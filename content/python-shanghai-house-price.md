Title: Python爬虫告诉你上海房价有多高
url: python-shanghai-house-price.html
save_as: python-shanghai-house-price.html
Date: 2018-07-22
Category: 数据分析
Tags: Python, 爬虫, 数据分析
Authors: Zhongqiang Shen

最近用Python爬取了贝壳上7万多套上海的在售房源，7万多套房源是目前贝壳上正在挂牌出售的房源，覆盖了上海各个区县。我们对这7万多套房源做一下分析，来真实地感受一下上海的房价到底有多高。




#### 爬虫思路

首先介绍一下我们这个爬虫的思路。贝壳网上的房源按照区县、版块做了划分，如下

![]({static}/images/v2-1307e0c656cf57acc59555209580fe64_r.jpg)

我们首先获取所有的区和版块数据。

然后对于每一个版块，爬取版块内的所有房源数据。每一套房源的数据除了单价总价外还包括小区名字、户型、面积、朝向、装修、电梯、楼层等，如下图

![]({static}/images/v2-1eeeb797f38246be02bece5720bab050_r.jpg)

爬取的数据存入MongoDB。爬取完所有的数据后，我们从MongoDB读取数据并做分析。

代码这里不详细展开，文末会给出获取方式。




#### 房源数据分析

爬取完所有房源数据后，我们来对数据做一下分析。

本次共爬取挂牌在售的房源总数**72994**套，在售房源的平均售价是**531万**/套，平均单价是**56000元**/平米。

按照区县划分，每个区的在售房源的分布如下：

![]({static}/images/v2-157601f58b30eeedbd0c5a2d55a10e29_r.jpg)

可以看到浦东新区作为上海第一大区，挂牌在售的房源数量也是最多的。




上海各个区县的均价如下图：

![]({static}/images/v2-fbbe1bc619e01b679c0a5ed81fc795c2_r.jpg)

静安、黄浦两个区位于上海的市中心，房价也最高，都超过了9万/平米，长宁、徐汇紧随其后，单价也超过了7万/平米。这4个区也是上海高端商业区、高端写字楼密集的地方，商场上档次，生活有品位，在这里拥有一套住房也成为了身份的象征。房价最低的是金山区，地处上海偏远的郊县，虽然也属于上海，但每次去金山都有一种出差的感觉。




下面是上海单价最贵的十大小区

![]({static}/images/v2-106b42d23d7e36fa5fe3664fa8b1d4c3_r.jpg)

可以看到大多数都集中在静安、黄浦、徐汇、长宁这4个区。浦东有一个小区入围，那是曾经全上海最贵的汤臣一品，如今在最贵的名单里也只能排在第7了。




最后我们来欣赏一下上海的那些最贵的顶级豪宅的房价

![]({static}/images/v2-2dfb09cbeb1add8077442ab2015217e5_r.jpg)

总价里的零是不是数不过来了？每一套都在1亿以上。豪宅的名字也很有趣，都是什么庄园、什么山庄之类的。

我们来欣赏一下豪宅庄园的图片

![]({static}/images/v2-b2a23a1686ca01fff9166336e0275cfe_r.jpg)

![]({static}/images/v2-778833988ee565a5c805cb4adff8ca5d_r.jpg)

![]({static}/images/v2-05e0fdde5f4d02dc9e1658405032ad5f_r.jpg)

![]({static}/images/v2-d30113ca527aa908e5166d9a07ff10ee_r.jpg)

看了是不是很喜欢？是不是很动心？

那么月薪1万，如何才能买得起这样的豪宅呢？




不要急，一步步来。先设定一个小目标，比如：先活他个500年。




爬虫代码已上传github，如需代码，可在公众号【**Python与数据分析**】后台回复“房价”获取代码地址。



