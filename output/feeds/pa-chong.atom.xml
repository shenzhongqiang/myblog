<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>强哥的世界 - 爬虫</title><link href="https://www.shenzhongqiang.com/" rel="alternate"></link><link href="https://www.shenzhongqiang.com/feeds/pa-chong.atom.xml" rel="self"></link><id>https://www.shenzhongqiang.com/</id><updated>2019-01-13T00:00:00+08:00</updated><subtitle>技术 | 生活 | 摄影</subtitle><entry><title>从豆瓣的反爬说说自建代理池</title><link href="https://www.shenzhongqiang.com/douban-anticrawl-proxypool.html" rel="alternate"></link><published>2019-01-13T00:00:00+08:00</published><updated>2019-01-13T00:00:00+08:00</updated><author><name>Zhongqiang Shen</name></author><id>tag:www.shenzhongqiang.com,2019-01-13:/douban-anticrawl-proxypool.html</id><summary type="html">&lt;p&gt;爬过豆瓣的同学应该都有过这样的经历，一开始爬取的过程挺正常的，但爬着爬着就不能获取到数据了。这是因为豆瓣对IP作了限制，如果短时间内来自同一个IP的请求太多 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;爬过豆瓣的同学应该都有过这样的经历，一开始爬取的过程挺正常的，但爬着爬着就不能获取到数据了。这是因为豆瓣对IP作了限制，如果短时间内来自同一个IP的请求太多，就会禁止来自这个IP的访问，我们的爬虫也就无法继续获取到数据了。&lt;/p&gt;
&lt;h4&gt;豆瓣的反爬&lt;/h4&gt;
&lt;p&gt;我们先来真实地感受一下豆瓣的反爬。假如我们有这样一个豆瓣的爬虫，这个爬虫是要爬取豆瓣上某几个标签页下的图书的数据（像下面这样的页面里的数据）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-b8da186e8cd483330b0811a52bf5b73f_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;爬虫的代码如下（这里只是为了展示豆瓣的反爬机制，代码作了简化）&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_books_by_page&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;page_no&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;page_no&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;
    &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;https://book.douban.com/tag/{}?start={}&amp;amp;type=T&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;headers&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;User-Agent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;User-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="c1"&gt;#r = requests.get(url, headers=headers, verify=False, proxies={&amp;quot;https&amp;quot;: proxy})&lt;/span&gt;
        &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;verify&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;etree&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HTML&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;items&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.//li[@class=&amp;quot;subject-item&amp;quot;]&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status_code&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

        &lt;span class="n"&gt;books&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;title_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.//div[@class=&amp;quot;info&amp;quot;]/h2/a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
            &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;title_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attrib&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
            &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;title_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attrib&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;href&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
            &lt;span class="n"&gt;books&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;url&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;books&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;msg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;__main__&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;tags&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;SQL&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;数据分析&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;计算机&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;tag&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;tags&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;page_no&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
        &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;books&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_books_by_page&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;page_no&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;books&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="k"&gt;break&lt;/span&gt;
            &lt;span class="n"&gt;page_no&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上面的爬虫会爬取SQL、数据分析和计算机这三个标签下的所有图书。每爬取一页数据，我们都会打印出HTTP返回码 r.status_code 和爬取到的图书的数量 len(items) 。&lt;/p&gt;
&lt;p&gt;我们在命令行窗口运行这个爬虫，可以看到这样的结果&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
...
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上面的输出表明爬取的页面都返回了HTTP 200，并且获取到了每一页里面的20条图书信息。&lt;/p&gt;
&lt;p&gt;但如果我们多运行几次程序后，结果就变成了下面这样了&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;200 0
200 0
200 0
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;HTTP还是返回200的响应，但我们获取不到页面里的图书信息了，因为我们的爬虫被禁了。&lt;/p&gt;
&lt;p&gt;要解决爬虫被禁的问题，一个直观的思路就是使用代理池，每次爬取页面我们都使用不同的IP发出请求，这样就可以避免同一个IP频繁发出请求被禁的情况。&lt;/p&gt;
&lt;p&gt;代理按照是否匿名，大致可分成这样几类&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;透明代理&lt;/li&gt;
&lt;li&gt;匿名代理&lt;/li&gt;
&lt;li&gt;高匿代理&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;透明代理在HTTP头里设置了你的真实IP，服务器可以通过HTTP头知晓你真实的IP。&lt;/p&gt;
&lt;p&gt;匿名代理虽然隐藏了你的真实IP，但服务器还是知道你使用了代理。&lt;/p&gt;
&lt;p&gt;高匿代理不仅隐藏了你的真实IP，而且让服务器无法发现你在使用代理，这是我们自建代理池的最佳的选择，我们下一步自建代理池的步骤中用到的也是高匿代理。&lt;/p&gt;
&lt;h4&gt;自建代理池&lt;/h4&gt;
&lt;p&gt;西刺代理（[]https://www.xicidaili.com/)）是一个提供免费代理的网站，他的首页是下面这样的&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-6ba145b7268323ff078be33b28149d95_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;我们通过爬取西刺上可用的免费高匿代理，来建立我们的代理池。&lt;/p&gt;
&lt;p&gt;爬取西刺高匿代理的代码如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;re&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;requests&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;lxml&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;etree&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_xici_proxy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;page_no&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;https://www.xicidaili.com/nn/{}&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;page_no&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;headers&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;User-Agent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;User-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;verify&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;etree&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HTML&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;tr_nodes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.//table[@id=&amp;quot;ip_list&amp;quot;]/tr&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt;
    &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;tr_node&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;tr_nodes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;td_nodes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tr_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;./td&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;ip&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;td_nodes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;
        &lt;span class="n"&gt;port&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;td_nodes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;
        &lt;span class="n"&gt;proxy_type&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;td_nodes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;
        &lt;span class="n"&gt;proto&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;td_nodes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;
        &lt;span class="n"&gt;proxy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;{}://{}:{}&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;proto&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;ip&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;uptime&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;td_nodes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;proxy_type&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;高匿&amp;quot;&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;proto&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;https&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;proxy&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上面的get_xici_proxy函数每次获取一个页面的代理。因为豆瓣图书的URL都是HTTPS的，所以我们这里只关心HTTPS的代理，上面的代码中我们筛选出高匿的并且是HTTPS的代理。&lt;/p&gt;
&lt;p&gt;爬下了免费代理以后，接下来，我们来验证一下这些代理是不是可用。我们通过代理去访问豆瓣的网页，测试代理的有效性。代码如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;test_proxy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;proxy&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;https_url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;https://book.douban.com/tag/SQL?start=20&amp;amp;type=T&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;headers&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;User-Agent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;proxies&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;https&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;proxy&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;https_url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;verify&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;proxies&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;proxies&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;timeout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;etree&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HTML&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;items&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.//li[@class=&amp;quot;subject-item&amp;quot;]&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status_code&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status_code&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;200&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;msg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;我们获取到这样几个有效的代理&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# proxy文件内容&lt;/span&gt;
https://110.52.235.11:9999
https://119.101.114.44:9999
https://119.101.117.59:9999
https://112.85.129.162:9999
https://119.101.112.66:9999
https://119.101.117.72:9999
https://125.123.136.156:9999
https://119.101.112.210:9999
https://119.101.114.72:9999
https://119.101.112.202:9999
https://119.101.112.173:9999
https://119.101.112.251:9999
https://119.101.112.64:9999
https://119.101.114.103:9999
https://119.101.112.172:9999
https://119.177.210.163:9999
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;我们把上面测试有效的代理存入到一个叫proxy的文件中。&lt;/p&gt;
&lt;p&gt;接下来，我们实现一个Proxy类来获取这个列表中的代理&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Proxy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;object&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;_instance&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__new__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;proxyfile&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="nb"&gt;isinstance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_instance&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_instance&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;super&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Proxy&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="fm"&gt;__new__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;proxyfile&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
                &lt;span class="n"&gt;lines&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_instance&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_proxies&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;lines&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
                &lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_instance&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_curr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;cls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_instance&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_proxy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;idx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_curr&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_proxies&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;proxy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_proxies&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;idx&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_curr&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;proxy&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上面的Proxy是一个Singleton的类。get_proxy方法用于从代理列表中获取代理，每次使用一个代理，如果所有的代理都用过了，我们回到第一个代理，重新开始选择。&lt;/p&gt;
&lt;p&gt;好，到这里我们就建立我们自己的代理池，并且创建了一个获取代理的类Proxy。&lt;/p&gt;
&lt;p&gt;接下来我们修改我们之前豆瓣爬虫的代码，我们使用代理池中的代理来发出请求。我们将get_books_by_page函数修改成如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_books_by_page&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;page_no&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;page_no&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;
    &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;https://book.douban.com/tag/{}?start={}&amp;amp;type=T&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;headers&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;User-Agent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;User-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; 360SE)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="n"&gt;inst&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Proxy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;proxy&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;proxy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;inst&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_proxy&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;verify&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;proxies&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;https&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;proxy&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="n"&gt;timeout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;etree&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HTML&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;items&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.//li[@class=&amp;quot;subject-item&amp;quot;]&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status_code&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

        &lt;span class="n"&gt;books&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;title_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.//div[@class=&amp;quot;info&amp;quot;]/h2/a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
            &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;title_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attrib&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
            &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;title_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attrib&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;href&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
            &lt;span class="n"&gt;books&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;url&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;books&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;msg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;我们再次运行我们的豆瓣爬虫，可以看到如下的输出&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
&lt;span class="m"&gt;200&lt;/span&gt; &lt;span class="m"&gt;20&lt;/span&gt;
...
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;现在爬虫又重新开始工作，可以获取到图书的信息了。&lt;/p&gt;
&lt;p&gt;通过这样的自建代理池，我们破解了豆瓣的反爬。不过需要注意的是，很多免费代理有效时间比较短，毕竟是免费的，稳定性没保障。大家获取免费代理后，还是要趁热尽快使用。如果要追求稳定性，建议大家还是使用付费代理。&lt;/p&gt;</content><category term="爬虫"></category><category term="Python"></category><category term="爬虫"></category></entry><entry><title>爬了下Unsplash上的高赞壁纸，总有一款适合你</title><link href="https://www.shenzhongqiang.com/unsplash-hd-wallpaper.html" rel="alternate"></link><published>2018-12-28T00:00:00+08:00</published><updated>2018-12-28T00:00:00+08:00</updated><author><name>Zhongqiang Shen</name></author><id>tag:www.shenzhongqiang.com,2018-12-28:/unsplash-hd-wallpaper.html</id><summary type="html">&lt;p&gt;Unsplash是个高清摄影图片的网站，里面的照片非常精美，分辨率也很高，最重要的是，所有的照片都没有版权 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Unsplash是个高清摄影图片的网站，里面的照片非常精美，分辨率也很高，最重要的是，所有的照片都没有版权，无须向原作者申请授权，即可任意使用。&lt;/p&gt;
&lt;p&gt;最近闲暇的时候写了个爬虫爬了下Unsplash上的那些高赞的壁纸。爬虫原理非常简单，就是爬取所有的壁纸，然后筛选那些赞数最高的图片。代码比较简单，这里不作介绍，后面有获取方式。&lt;/p&gt;
&lt;p&gt;这里整理了80张赞数最高的壁纸。大家最喜欢哪一张呢，欢迎在评论里告诉我~&lt;/p&gt;
&lt;p&gt;所有原图已上传百度网盘，代码已上传github，可在公众号【Python与数据分析】后台回复unsplash获取。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-2dbc8e87513975bc740a16809d7c9b68_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;2.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-b3f7520ab44a3c243cebd0da4f9dfb15_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;3.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-6a846643e8e7725c12004a59f73eb161_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;4.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-85bbf7ca411f6c036f916ee0a899c13e_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;5.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-38d00f700d1f844200948a96bbf5bab4_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;6.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-09e280831ce622279766f563b52660b9_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;7.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-5bb81b8b5f5fd23f33b490ed1ef7c2d4_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;8.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-9320713933b42a48fa38e39371c77465_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;9.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-ef12d0d7fae98e6c65b62d9920f4270e_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;10.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-bfbc096d7a87be44c2e78138b2ac1bc5_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;11.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-5ac578e275ddfc8f35fa76d418e97d9a_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;12.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-d1085ecde8cd27b89dfafe5090a5c921_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;13.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-c73165f39bf6ac9e013912a5fc65d4be_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;14.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-8fb7bc373121891d0a07a256dc4670b8_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;15.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-03695f7eba70fbdc4717492cb10547f1_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;16.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-7a8801834386a6e19096784ca4a9863e_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;17.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-f1be59ec6bbcfd07cc2483d751a3d2a4_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;18.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-660216e0a14fedb4e8fabbf34643e95b_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;19.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-b5e745331441d820b4fa5e5d54485783_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;20.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-5748010ab90d122ada8ced2bd86e5320_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;21.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-67accea4a8569cb60cd1287d863b6dc4_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;22.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-3ef2063a1572a613b15b0273ed0eb6b8_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;23.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-846b2c1c5ffd98d33b2559e11f3cc680_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;24.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-08f36e382c705974d4ad00010bf274fe_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;25.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-e1a332c3412d6257173e60166b77211e_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;26.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-f7883800bcf244c877fa5ad671831f8e_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;27.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-00670248b6205aa926c401d55e123f96_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;28.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-5b78c0cf3205e5e7d6152c601416aa44_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;29.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-c486f843a35191041325b4d9dc6a1b5c_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;30.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-01e66bd7d34a620158edd212dc7380ec_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;31.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-71941913b9e9f2f2bafc73266e23ab90_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;32.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-551860e0f9d80ed192eef5e9b45c4d93_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;33.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-6709d9a05ff5b2f6661041275768ef12_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;34.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-517c91ff0c401e9da427efb111669047_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;35.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-890d27662838e35d20ac9b94d15f49c9_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;36.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-9fb25ab6b2da1aff0df444f92ccb9a37_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;37.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-0d5b7a7054b7334765e77436683a7097_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;38.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-92f95eeff9c8ed0ad8265083eb00606a_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;39.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-b75b63adb6270df2031a445ef0b65a18_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;40.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-3565137eaf45291b38de8a2624af4ac8_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;41.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-04d77a00d032dd29a44ee038b158362a_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;42.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-aceec4646c6bc14e93af82a9fec44af3_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;43.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-155015b20d5e713f214985b41146d33e_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;44.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-2f57300ccd813b7707d85dde588ec4e4_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;45.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-45247128238bcc26bedcc8858a59597c_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;46.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-e467a2cae16a3183da556742a44eeda1_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;47.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-2a199bb0ddf071bd9d5299bbbc2f33a7_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;48.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-f26422259e66d07edd139474b2c32358_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;49.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-b909a7f1f6e8beaedeb4d788f8d4257d_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;50.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-6fe1be3b51606382f8208ce7b05021f2_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;51.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-6e461434b355bb3ed19c31c715393c0a_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;52.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-df063b05c7067cffd8283d2a88f64757_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;53.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-f990f36392a589ffa0e7b64c390c13c9_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;54.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-7ef27e24988c2c589682d22b865fd21a_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;55.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-643a7f4dee01f23078f5cebba685180f_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;56.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-b96c4d07c0e0befad70ece95c91c59f4_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;57.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-f3824268bdd46428f280fe15c363de10_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;58.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-a93a06f9787df52becee20e350719783_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;59.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-1dbb7cf821220e25b24a18a6e696c45f_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;60.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-5de55a4339a3ec902ff3a62ea878e260_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;61.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-aa5810b4e5af2e53d0150fe0c5f35e7d_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;62.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-e24251722c9b52f194c20dc7e9e6bc2b_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;63.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-d3674b1a3c5b697441fb37201cc85713_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;64.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-a903f1b705d8605d0bff3350abf92c06_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;65.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-ee3e0c6424d2da3e24f6065ab4cb6aac_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;66.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-28e120d22da076c207d3f48aaa05a228_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;67.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-6cd555bf222daa65df4016d12e235793_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;68.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-34327cb07b0a301a1243289ef94dd87b_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;69.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-da0cc2cfbd936053cabed2d6753d2b5f_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;70.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-9b910dedd764e32a800d605f9a0ec55f_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;71.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-72b1e9d33e3498d0993aa2d51896212d_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;72.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-db2b3a0b916b1abf15b1621585199775_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;73.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-5177e9315e8b2edbed7824554fcbb1f8_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;74.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-e3597b2e337adfaee849247780214b6a_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;75.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-75d82c2e960f4205af8df3d57539dc16_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;76.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-81541aad6b9db777647f01e60a5eb780_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;77.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-36573a7d942582bb6882952d5adbd008_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;78.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-ea3a98d67f3f1ce158fed17a73d22bd6_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;79.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-65c82e47c11562cd16682a226870281a_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;80.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-748cdc99477cd8c8b3dfc346531713b7_r.jpg"&gt;&lt;/p&gt;</content><category term="爬虫"></category></entry><entry><title>破解点评网的反爬</title><link href="https://www.shenzhongqiang.com/dianping-anti-crawler.html" rel="alternate"></link><published>2018-11-24T10:20:00+08:00</published><updated>2018-11-24T10:20:00+08:00</updated><author><name>Zhongqiang Shen</name></author><id>tag:www.shenzhongqiang.com,2018-11-24:/dianping-anti-crawler.html</id><summary type="html">&lt;p&gt;点评网的反爬设置在我们爬取点评网页的时候给我们造成了不小的障碍。在网页上我们看到的是这样的&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-713839a83e9e16e65dc9f76feb23ab90_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;网页上可以看到这家餐厅有1405条评论，人均387。但在分析页面源码的时候 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;点评网的反爬设置在我们爬取点评网页的时候给我们造成了不小的障碍。在网页上我们看到的是这样的&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-713839a83e9e16e65dc9f76feb23ab90_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;网页上可以看到这家餐厅有1405条评论，人均387。但在分析页面源码的时候，我们却看不到网页上的数字，看到是这样的代码&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-4fec3b668135f3e7d3c9418d5baed6db_b.jpg"&gt;&lt;/p&gt;
&lt;p&gt;点评网对数字做了处理，一些数字的信息像评论条数、人均、评分等都做了反爬保护。上面的网页中评论条数是1405条，但在页面源 码中，除了第一个数字1以外，后面的数字我们看不到，都是一些像随机编码一样的css class。&lt;/p&gt;
&lt;p&gt;如果我们仔细分析这个css class，其实是不难发现背后的原理的。&lt;/p&gt;
&lt;p&gt;通过开发者工具，我们找到这个css的定义，可以看到是下面这样的&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-99963314a3cb5aec9f80ecb9adb22311_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;background-image属性里面是一个url，我们在浏览器里打开它，看到它的内容是&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-c1080556faba624a1d434bbdbe84e1e6_b.jpg"&gt;&lt;/p&gt;
&lt;p&gt;lc-mY1i 这个css class里面是一个background属性，定义了背景图片偏移的位置。&lt;/p&gt;
&lt;p&gt;所以点评网上显示数字的原理就是通过设置不同的偏移位置，显示背景图片相应位置上的数字。我们可以想象背景图片的前面有一个 窗口，窗口的大小刚好够显示一个数字。窗口是固定不动的，背景图片在后面移动，移动到不同的位置就能显示这个位置上的数字。&lt;/p&gt;
&lt;p&gt;进一步分析背景图片，我们可以发现，这是一个SVG图片，图片中的数字可以在svg的源码中看到，如下&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-677f504d989747ef91fb5bc9de80a136_b.jpg"&gt;&lt;/p&gt;
&lt;p&gt;理解了原理后，我们用代码来实现一下解析的过程。&lt;/p&gt;
&lt;p&gt;首先我们从点评的网页上找出css文件的url，代码如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_css&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;http://www.dianping.com/shanghai/ch10&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;matched&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;href=&amp;quot;([^&amp;quot;]+svgtextcss[^&amp;quot;]+)&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;matched&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;cannot find svgtextcss file&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;css_url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;matched&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;css_url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fix_url&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;css_url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;css_url&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;随后我们从css里找到背景图片的路径，并获取SVG图片中的每个数字&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_svg&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;css_url&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;css_url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;matched&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;span\[class\^=&amp;quot;lc\-&amp;quot;\].*?background\-image: url\((.*?)\);&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;matched&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;cannot find svg file&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;svg_url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;matched&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;svg_url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fix_url&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;svg_url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;svg_url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;matched&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;class=&amp;quot;textStyle&amp;quot;&amp;gt;(\d+)&amp;lt;/text&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;matched&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;cannot find digits&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;digits&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;matched&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;digits&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;这个函数返回一个数组，数组的内容是SVG图片中的所有数字。&lt;/p&gt;
&lt;p&gt;对于点评网页中的用css class表示的数字，我们来解析一下css class和数字之间的对应关系&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_class_offset&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;css_url&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;css_url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;matched&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;(\.[a-zA-Z0-9-]+)\{background:(\-\d+\.\d+)px&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;matched&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;css_class&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt;
        &lt;span class="n"&gt;offset&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;css_class&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;offset&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;这个函数返回的是一个字典，它的key是css class的名字，value是css class对应的数字在背景图片中的偏移量。&lt;/p&gt;
&lt;p&gt;接下来，我们以评论条数为例，来获取点评上一个页面里每家餐厅的评论条数。先定义函数，用于获取评论条数&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_review_num&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;page_url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;class_offset&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;digits&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;page_url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;etree&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HTML&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;shop_nodes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.//div[@id=&amp;quot;shop-all-list&amp;quot;]/ul/li&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;shop_node&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;shop_nodes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;name_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;shop_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.//div[@class=&amp;quot;tit&amp;quot;]/a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;name_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attrib&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;review_num_node&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;shop_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.//div[@class=&amp;quot;comment&amp;quot;]/a[@class=&amp;quot;review-num&amp;quot;]/b&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;review_num_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;review_num_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;digit_node&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;review_num_node&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;css_class&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;digit_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attrib&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;class&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
            &lt;span class="n"&gt;offset&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;class_offset&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;css_class&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
            &lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;offset&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;digit&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;digits&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
            &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;digit&lt;/span&gt;
        &lt;span class="n"&gt;last_digit&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;review_num_node&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tail&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;last_digit&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;last_digit&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;restaurant: {}, review num: {}&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;然后调用函数，爬一下页面中每家餐厅的评论条数&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;css_url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_css&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;digits&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_svg&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;css_url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;class_offset&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_class_offset&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;css_url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;http://www.dianping.com/shanghai/ch10/g116&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;get_review_num&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;class_offset&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;digits&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;运行代码后，得到如下的结果&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;restaurant: 1886汽车主题德国餐厅&lt;span class="o"&gt;(&lt;/span&gt;环宇荟店&lt;span class="o"&gt;)&lt;/span&gt;, review num: &lt;span class="m"&gt;1021&lt;/span&gt;
restaurant: Mia Fringe迷芬奇餐厅&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;酒吧, review num: &lt;span class="m"&gt;152&lt;/span&gt;
restaurant: Oyster EXPO江月蚝庭西餐生蚝吧&lt;span class="o"&gt;(&lt;/span&gt;世博源店&lt;span class="o"&gt;)&lt;/span&gt;, review num: &lt;span class="m"&gt;1405&lt;/span&gt;
restaurant: 宝莱纳餐厅&lt;span class="o"&gt;(&lt;/span&gt;陆家嘴店&lt;span class="o"&gt;)&lt;/span&gt;, review num: &lt;span class="m"&gt;7854&lt;/span&gt;
restaurant: Pizza Marzano玛尚诺&lt;span class="o"&gt;(&lt;/span&gt;港汇店&lt;span class="o"&gt;)&lt;/span&gt;, review num: &lt;span class="m"&gt;7527&lt;/span&gt;
restaurant: love&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;salt牛排馆, review num: &lt;span class="m"&gt;86&lt;/span&gt;
restaurant: Da Ivo 意大利魔镜餐厅, review num: &lt;span class="m"&gt;3497&lt;/span&gt;
restaurant: Mr Nice好好先生餐厅&lt;span class="o"&gt;(&lt;/span&gt;月星环球港店&lt;span class="o"&gt;)&lt;/span&gt;, review num: &lt;span class="m"&gt;9052&lt;/span&gt;
restaurant: L&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;ATELIER de Joël Robuchon, review num: &lt;span class="m"&gt;2821&lt;/span&gt;
restaurant: Stone Sal 言盐西餐厅, review num: &lt;span class="m"&gt;62&lt;/span&gt;
restaurant: 夏朵花园, review num: &lt;span class="m"&gt;3031&lt;/span&gt;
restaurant: 壳里西餐厅Coquille Seafood Bistro, review num: &lt;span class="m"&gt;322&lt;/span&gt;
restaurant: ICHA Chateau Bar &lt;span class="p"&gt;&amp;amp;&lt;/span&gt; Restaurant&lt;span class="o"&gt;(&lt;/span&gt;酒吧创意料理&lt;span class="o"&gt;)&lt;/span&gt;, review num: &lt;span class="m"&gt;496&lt;/span&gt;
restaurant: 菲斯特花园西餐厅, review num: &lt;span class="m"&gt;655&lt;/span&gt;
restaurant: 宝丽嘉酒店Cafe Bellagio&lt;span class="o"&gt;(&lt;/span&gt;宝丽嘉西餐厅&lt;span class="o"&gt;)&lt;/span&gt;, review num: &lt;span class="m"&gt;598&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;对照网页上的数据，可以看到，餐厅的评论条数都被正确的解析出来了。&lt;/p&gt;
&lt;p&gt;本文已同步更新到公众号【Python与数据分析】，欢迎关注~&lt;/p&gt;</content><category term="爬虫"></category><category term="Python"></category><category term="爬虫"></category></entry><entry><title>263本知乎书店的免费图书</title><link href="https://www.shenzhongqiang.com/free-books-in-zhihu-bookstore.html" rel="alternate"></link><published>2018-04-12T00:00:00+08:00</published><updated>2018-04-12T00:00:00+08:00</updated><author><name>Zhongqiang Shen</name></author><id>tag:www.shenzhongqiang.com,2018-04-12:/free-books-in-zhihu-bookstore.html</id><summary type="html">&lt;p&gt;不知道大家是否发现，知乎书店有很多免费的书，像知乎周刊、知乎日报年度精选、以及一些大V编写的书 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;不知道大家是否发现，知乎书店有很多免费的书，像知乎周刊、知乎日报年度精选、以及一些大V编写的书。最近写了个爬虫，爬了下知乎书店上所有免费的图书，整理出来分享给大家。&lt;/p&gt;
&lt;p&gt;下面是所有知乎书店里免费的图书，一共263本，按评分从高到低排序&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550387"&gt;牙齿保卫战&lt;/a&gt;    评分：9.9&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551198"&gt;大发明家&lt;/a&gt;    评分：9.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551074"&gt;2015 年度 300 问（第三辑）：科学&lt;/a&gt;    评分：9.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550382"&gt;日常经济学 2&lt;/a&gt;    评分：9.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551030"&gt;探索地下铁&lt;/a&gt;    评分：9.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550422"&gt;美食笔谈&lt;/a&gt;    评分：9.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119555722"&gt;生活要点糖：这是一本有甜味的书&lt;/a&gt;    评分：9.7&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119553777"&gt;2016：知乎日报最受欢迎的故事精选&lt;/a&gt;    评分：9.7&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119552639"&gt;喵星人行为心理学&lt;/a&gt;    评分：9.7&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550555"&gt;在家好好玩&lt;/a&gt;    评分：9.7&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550522"&gt;带你去听古典音乐会&lt;/a&gt;    评分：9.7&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551012"&gt;设计我们的世界（知乎编辑版）&lt;/a&gt;    评分：9.7&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119555068"&gt;一夜长大&lt;/a&gt;    评分：9.7&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550491"&gt;哈哈哈哈哈哈哈（愚人节特辑）&lt;/a&gt;    评分：9.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119554784"&gt;员工权益知多少&lt;/a&gt;    评分：9.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551045"&gt;权力的游戏&lt;/a&gt;    评分：9.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550857"&gt;艾泽拉斯之春&lt;/a&gt;    评分：9.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119555998"&gt;XXOO 那些事 2：非人类篇&lt;/a&gt;    评分：9.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119557948"&gt;新手爸妈的岗前培训&lt;/a&gt;    评分：9.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119556676"&gt;建筑我们的世界&lt;/a&gt;    评分：9.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119553738"&gt;雾霾天生存防护指南&lt;/a&gt;    评分：9.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119558094"&gt;玩世界，享不同：怎样的旅行称得上「会玩」？&lt;/a&gt;    评分：9.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119553980"&gt;医院故事集&lt;/a&gt;    评分：9.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119554430"&gt;走，进非洲！&lt;/a&gt;    评分：9.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551136"&gt;四大名著还可以这样读&lt;/a&gt;    评分：9.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551124"&gt;Hello，公共汽车&lt;/a&gt;    评分：9.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551120"&gt;重返刑侦现场&lt;/a&gt;    评分：9.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550435"&gt;明明白白花钱&lt;/a&gt;    评分：9.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119555358"&gt;台前幕后&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119556437"&gt;向儿童性侵说「不」&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550416"&gt;家庭心理学&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119554207"&gt;三月也是读书天&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119554995"&gt;烘焙的美好时光&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119556976"&gt;大口吃肉&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119554957"&gt;脑洞大开！奇奇怪怪问题们&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119554736"&gt;我的中学时代&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550945"&gt;如果水知道&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550507"&gt;读懂食品安全&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550429"&gt;广告狂人&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119557774"&gt;年轻人的忽视与焦虑：健康餐桌的 15 个秘密&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550511"&gt;编程小白学 Python&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550910"&gt;2013 年度 300 问 第五辑&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550519"&gt;走，吃火锅&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119559236"&gt;相见恨晚的英语学习方法&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550863"&gt;给世界生个孩子&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550868"&gt;枯燥无味的心理学&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550896"&gt;国漫奇遇&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550539"&gt;2015：知乎日报年度精选&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550386"&gt;NASA 忙什么&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119552712"&gt;安全用好信用卡&lt;/a&gt;    评分：9.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550861"&gt;读书这件小事&lt;/a&gt;    评分：9.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119554612"&gt;拍出好照片！一看就会的手机摄影技巧&lt;/a&gt;    评分：9.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550389"&gt;同志亦凡人&lt;/a&gt;    评分：9.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551050"&gt;善待我们的屁股&lt;/a&gt;    评分：9.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119558634"&gt;走出焦虑&lt;/a&gt;    评分：9.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119555119"&gt;打造自己的房间&lt;/a&gt;    评分：9.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119560412"&gt;刺杀骑士团长（试读本）&lt;/a&gt;    评分：9.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119555166"&gt;大话西游&lt;/a&gt;    评分：9.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119561794"&gt;实用健康管理手册&lt;/a&gt;    评分：9.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119557013"&gt;100 个 iOS 11 实用技巧&lt;/a&gt;    评分：9.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550810"&gt;樱花之语&lt;/a&gt;    评分：9.3&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119558291"&gt;开创者：人类智慧闪耀时&lt;/a&gt;    评分：9.3&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550418"&gt;爱情的 36 个秘密&lt;/a&gt;    评分：9.3&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550464"&gt;啤酒新世界&lt;/a&gt;    评分：9.3&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550878"&gt;中国人的美剧&lt;/a&gt;    评分：9.3&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550523"&gt;增肌塑形指南&lt;/a&gt;    评分：9.3&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119559918"&gt;说走就走的出国游：免签新玩法&lt;/a&gt;    评分：9.3&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550935"&gt;写一个故事&lt;/a&gt;    评分：9.3&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550773"&gt;深夜惊奇（春节特刊）&lt;/a&gt;    评分：9.3&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551061"&gt;2015 年度 300 问（第一辑）：心理&lt;/a&gt;    评分：9.3&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550914"&gt;新技能 get✓&lt;/a&gt;    评分：9.3&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550849"&gt;敲个开市钟&lt;/a&gt;    评分：9.3&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119554690"&gt;爸爸和我&lt;/a&gt;    评分：9.3&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119554666"&gt;见字不如见面：我们身边的通讯史&lt;/a&gt;    评分：9.3&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550406"&gt;想创业，求组团&lt;/a&gt;    评分：9.3&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119557311"&gt;我有一个炫酷的隐藏技能&lt;/a&gt;    评分：9.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19552308"&gt;他们老了&lt;/a&gt;    评分：9.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119563223"&gt;知乎观影团&lt;/a&gt;    评分：9.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119560667"&gt;解码西方名画&lt;/a&gt;    评分：9.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119560605"&gt;独居，见证自己的生活&lt;/a&gt;    评分：9.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119560091"&gt;家乡味 中国胃&lt;/a&gt;    评分：9.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550844"&gt;告别抑郁&lt;/a&gt;    评分：9.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551026"&gt;你可能错过的 10 本榜单好书&lt;/a&gt;    评分：9.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119553705"&gt;被忽视的校园暴力&lt;/a&gt;    评分：9.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550816"&gt;生而有幸&lt;/a&gt;    评分：9.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119554814"&gt;数学妙啊！妙！&lt;/a&gt;    评分：9.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119558855"&gt;课本之外：原来这么有趣啊&lt;/a&gt;    评分：9.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119554171"&gt;如果你也听民谣&lt;/a&gt;    评分：9.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119558179"&gt;新商业时代&lt;/a&gt;    评分：9.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19552101"&gt;日本有意思&lt;/a&gt;    评分：9.1&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119559414"&gt;直到成为母亲&lt;/a&gt;    评分：9.1&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550976"&gt;游戏人间&lt;/a&gt;    评分：9.1&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119553652"&gt;2016：知乎日报年度精选&lt;/a&gt;    评分：9.1&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119553948"&gt;爱情的 48 个秘密&lt;/a&gt;    评分：9.1&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550425"&gt;你在怕什么&lt;/a&gt;    评分：9.1&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119554452"&gt;请回答，九十年代&lt;/a&gt;    评分：9.1&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551105"&gt;大学学前班&lt;/a&gt;    评分：9.1&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119553373"&gt;XXOO 那些事&lt;/a&gt;    评分：9.1&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119560601"&gt;人间情爱（2017 知乎日报故事精选）&lt;/a&gt;    评分：9.1&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550537"&gt;二胎，生不生？&lt;/a&gt;    评分：9.1&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119552899"&gt;减脂吃什么&lt;/a&gt;    评分：9.1&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119555717"&gt;这不是一本简单的美食书&lt;/a&gt;    评分：9.1&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550490"&gt;像大侦探一样思考&lt;/a&gt;    评分：9.1&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119556521"&gt;大秦帝国进阶手册&lt;/a&gt;    评分：9.1&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550486"&gt;花样下厨房之工具篇&lt;/a&gt;    评分：9.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550484"&gt;花样下厨房之手艺篇&lt;/a&gt;    评分：9.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550396"&gt;妖怪，哪里跑！&lt;/a&gt;    评分：9.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550471"&gt;2014 年度 300 问：人生四点半&lt;/a&gt;    评分：9.0&lt;a href="https://www.zhihu.com/pub/book/19550792"&gt;2013 年度 300 问 第一辑&lt;/a&gt;&lt;a href="https://www.zhihu.com/pub/book/19550471"&gt;2014 年度 300 问：人生四点半&lt;/a&gt;    评分：9.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550439"&gt;脖子疼，要断了&lt;/a&gt;    评分：9.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119554119"&gt;原来你是这样的日剧&lt;/a&gt;    评分：9.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119554041"&gt;职业倦怠怎么办&lt;/a&gt;    评分：9.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119557764"&gt;我的品质生活提案&lt;/a&gt;    评分：9.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551128"&gt;睡个好觉&lt;/a&gt;    评分：9.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550877"&gt;从存钱罐到财务自由&lt;/a&gt;    评分：9.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119552676"&gt;一点都不恐怖的恐怖电影手册&lt;/a&gt;    评分：9.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119552690"&gt;怪诞心理学&lt;/a&gt;    评分：9.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119553544"&gt;改善你的驾驶&lt;/a&gt;    评分：9.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550563"&gt;单身会上瘾&lt;/a&gt;    评分：9.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119554913"&gt;不上班的理想生活&lt;/a&gt;    评分：9.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550920"&gt;红楼索隐&lt;/a&gt;    评分：8.9&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119563216"&gt;好仪态，日常生活练出来&lt;/a&gt;    评分：8.9&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119557700"&gt;知乎好照片：我们所处的时代与世界&lt;/a&gt;    评分：8.9&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550494"&gt;好好对待月经&lt;/a&gt;    评分：8.9&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119555018"&gt;我们都爱汪星人&lt;/a&gt;    评分：8.9&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551042"&gt;记忆的 21 个秘密&lt;/a&gt;    评分：8.9&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550493"&gt;二次元特别演出&lt;/a&gt;    评分：8.9&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550982"&gt;心的问题&lt;/a&gt;    评分：8.9&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119553629"&gt;未来生活：2016 科技盘点&lt;/a&gt;    评分：8.9&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551183"&gt;玩转方便面&lt;/a&gt;    评分：8.9&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551112"&gt;科学穿越指南&lt;/a&gt;    评分：8.9&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550379"&gt;家宴（春节特辑）&lt;/a&gt;    评分：8.9&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550918"&gt;买买买！（双十一特辑）&lt;/a&gt;    评分：8.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550865"&gt;也谈情说爱&lt;/a&gt;    评分：8.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550880"&gt;买买买！&lt;/a&gt;    评分：8.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550776"&gt;北上广深的年轻人&lt;/a&gt;    评分：8.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550769"&gt;星球大战&lt;/a&gt;   评分：8.8&lt;a href="https://www.zhihu.com/pub/book/19550769"&gt;星球大战&lt;/a&gt;&lt;a href="https://www.zhihu.com/pub/book/19550769"&gt;星球大战&lt;/a&gt;   评分：8.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551213"&gt;iPhone 十年&lt;/a&gt;    评分：8.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119559444"&gt;孤独经济：脉脉职业数据白皮书（2017 年终特辑）&lt;/a&gt;    评分：8.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550957"&gt;概率的概率&lt;/a&gt;    评分：8.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119560982"&gt;速食的诱惑&lt;/a&gt;    评分：8.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119560841"&gt;那些尴尬又不得不回答的面试题&lt;/a&gt;    评分：8.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119557485"&gt;化繁为简的生活整理术&lt;/a&gt;    评分：8.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119555603"&gt;摇滚在中国&lt;/a&gt;    评分：8.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119555587"&gt;日常经济学 3：我为什么这么穷&lt;/a&gt;    评分：8.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119554222"&gt;没钱也要理财&lt;/a&gt;    评分：8.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551203"&gt;上班族 24 小时健康指南&lt;/a&gt;    评分：8.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551032"&gt;我为什么爱迪士尼&lt;/a&gt;    评分：8.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550453"&gt;三月不减肥&lt;/a&gt;    评分：8.7&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119554723"&gt;上瘾怕什么&lt;/a&gt;    评分：8.7&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550949"&gt;真的睡不着啊！&lt;/a&gt;    评分：8.7&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550936"&gt;商业的细节&lt;/a&gt;    评分：8.7&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119552567"&gt;梦的解析&lt;/a&gt;    评分：8.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119559533"&gt;我买故我在：消费升级启示录&lt;/a&gt;    评分：8.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119560367"&gt;医院故事集 II&lt;/a&gt;    评分：8.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550467"&gt;不以儿童为玩物！&lt;/a&gt;    评分：8.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551115"&gt;说学逗唱&lt;/a&gt;    评分：8.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551034"&gt;发现香港美食&lt;/a&gt;    评分：8.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550870"&gt;无力拖延&lt;/a&gt;    评分：8.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119559007"&gt;啤酒「择」学课&lt;/a&gt;    评分：8.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119553457"&gt;导演李安&lt;/a&gt;    评分：8.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550941"&gt;走，去拿 10 亿美金&lt;/a&gt;    评分：8.5&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550798"&gt;医生说&lt;/a&gt;    评分：8.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551029"&gt;人工智能：像人一样思考？&lt;/a&gt;    评分：8.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119560566"&gt;2017：知乎日报年度精选&lt;/a&gt;    评分：8.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550830"&gt;吃好吃的&lt;/a&gt;    评分：8.4&lt;a href="https://www.zhihu.com/pub/book/19550830"&gt;吃好吃的&lt;/a&gt;    评分：8.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119558687"&gt;人最好能颓一点儿（理想国人文讲谈录）&lt;/a&gt;    评分：8.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119559070"&gt;你不知道的神操作&lt;/a&gt;    评分：8.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550828"&gt;日常经济学&lt;/a&gt;    评分：8.3&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119557281"&gt;95 后与职场：脉脉职业数据白皮书（2017 秋季号）&lt;/a&gt;    评分：8.3&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550876"&gt;车车车车&lt;/a&gt;    评分：8.3&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550404"&gt;好好炒股&lt;/a&gt;    评分：8.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550847"&gt;香港电影浮沉录&lt;/a&gt;    评分：8.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550966"&gt;社交网络&lt;/a&gt;    评分：8.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550975"&gt;讲道理&lt;/a&gt;    评分：8.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550932"&gt;为人子女&lt;/a&gt;    评分：8.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550837"&gt;职场生存狂&lt;/a&gt;    评分：8.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551149"&gt;超级英雄&lt;/a&gt;    评分：8.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550990"&gt;不开玩笑&lt;/a&gt;    评分：8.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550400"&gt;你早就该拒绝我&lt;/a&gt;    评分：8.1&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550832"&gt;去他的经理&lt;/a&gt;    评分：8.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119554848"&gt;iPhone 就该这样用&lt;/a&gt;    评分：8.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550907"&gt;生活家养成&lt;/a&gt;    评分：8.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550951"&gt;光辉岁月&lt;/a&gt;    评分：7.9&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551143"&gt;请回答，八十年代&lt;/a&gt;    评分：7.9&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550972"&gt;程序人生&lt;/a&gt;    评分：7.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550840"&gt;无基础健身&lt;/a&gt;    评分：7.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550438"&gt;租房也是家&lt;/a&gt;    评分：7.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550884"&gt;远方的旅行家&lt;/a&gt;    评分：7.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550827"&gt;跳槽有术&lt;/a&gt;    评分：7.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550958"&gt;你不是你的性别&lt;/a&gt;    评分：7.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119558461"&gt;设计，无处不在&lt;/a&gt;    评分：7.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550795"&gt;黑科技&lt;/a&gt;    评分：7.2&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119554255"&gt;走，带你轻松户外游&lt;/a&gt;    评分：6.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551232"&gt;朕的日常生活&lt;/a&gt;    评分：6.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550906"&gt;我想有个家&lt;/a&gt;    评分：6.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551028"&gt;如果你也听摇滚&lt;/a&gt;    评分：6.6&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550835"&gt;乔布斯往事&lt;/a&gt;    评分：6.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550446"&gt;送你一把勺子&lt;/a&gt;    评分：6.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550376"&gt;苦乐咖啡&lt;/a&gt;    评分：6.4&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550943"&gt;小白理财&lt;/a&gt;    评分：6.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550813"&gt;风陵渡&lt;/a&gt;    评分：5.8&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550451"&gt;女权即人权&lt;/a&gt;    评分：5.1&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550872"&gt;正义女神不睁眼&lt;/a&gt;    评分：5.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550961"&gt;猫奴手册&lt;/a&gt;    评分：3.7&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550790"&gt;2013 年度 300 问 第二辑&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550411"&gt;安全养老&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550432"&gt;时差旅行&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550940"&gt;白日梦的生意&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550946"&gt;爆米花之梦&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550954"&gt;2013 年度 300 问 第四辑&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119560595"&gt;MIDO 瑞士美度表（1918-2018）：百年价值，始终如一&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550420"&gt;2014 年度 300 问：就爱电影&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550419"&gt;爱情天使轮&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550964"&gt;2013 年度 300 问 第三辑&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550421"&gt;解剖真人秀&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550970"&gt;化险为夷&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550415"&gt;人人都爱共享经济？&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550408"&gt;2014 年度 300 问：生活那么大&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550978"&gt;坍缩&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550928"&gt;看个球&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550983"&gt;给人生一部纪录片&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550407"&gt;花样 Party&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550987"&gt;公共梦境&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550392"&gt;年终奖&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550984"&gt;向自由逃避&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551062"&gt;2015 年度 300 问（第二辑）：经济&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551064"&gt;2015 年度 300 问（第四辑）：生活&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551080"&gt;2015 年度 300 问（第五辑）：娱乐&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551090"&gt;2015 年度 300 问（第六辑）：职业&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19551096"&gt;2015 年度 300 问（第七辑）：商业&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550377"&gt;2014：知乎日报年度回顾&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550373"&gt;带你去逛博物馆&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550442"&gt;夏日大作战&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550926"&gt;完全不像处女座&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550792"&gt;2013 年度 300 问 第一辑&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550887"&gt;2013 年度 300 问 第六辑&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550799"&gt;设计了不起&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550807"&gt;美利坚&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550803"&gt;冬夜读诗&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550818"&gt;春节返乡一本通&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550821"&gt;宝宝去哪儿&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550824"&gt;建什么筑&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550499"&gt;爱上滑雪的 22 个理由&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550825"&gt;2013&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550852"&gt;家有儿女&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550856"&gt;去那花花世界&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550853"&gt;耳膜战争&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550482"&gt;理解慈善&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550891"&gt;真人秀江湖&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550925"&gt;商场后台&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550476"&gt;2014 年度 300 问：社会七分熟&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550479"&gt;2014 年度 300 问：在商言商&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550893"&gt;读万里书&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550899"&gt;2013 年度 300 问 第七辑&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550474"&gt;2014 年度 300 问：职人说梦&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550460"&gt;2014 年度 300 问：科学说&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550902"&gt;2013 年度 300 问 第八辑&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550452"&gt;认识雾霾&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550919"&gt;2013 年度 300 问 第九辑&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550457"&gt;2014 年度 300 问：看上去很高级&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550922"&gt;笑场的雷雨&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/19550448"&gt;见笑了&lt;/a&gt;    评分：0.0&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/pub/book/119564750"&gt;原生家庭：爱与痛的起点&lt;/a&gt;    评分：0.0&lt;/p&gt;</content><category term="爬虫"></category><category term="Python"></category><category term="爬虫"></category></entry><entry><title>豆瓣最受好评的20本Python图书</title><link href="https://www.shenzhongqiang.com/douban-python-books-top-20.html" rel="alternate"></link><published>2018-03-22T00:00:00+08:00</published><updated>2018-03-22T00:00:00+08:00</updated><author><name>Zhongqiang Shen</name></author><id>tag:www.shenzhongqiang.com,2018-03-22:/douban-python-books-top-20.html</id><summary type="html">&lt;p&gt;用豆瓣API爬取了豆瓣上的Python图书，筛选了评分人数&amp;gt;80的书，按照评分高低排序，删除了些中英文版本重复的书 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;用豆瓣API爬取了豆瓣上的Python图书，筛选了评分人数&amp;gt;80的书，按照评分高低排序，删除了些中英文版本重复的书，整理出了下面这张最受好评的20本Python图书榜单，书名包含豆瓣链接，点击直达豆瓣书的详情页面。&lt;/p&gt;
&lt;p&gt;No.1 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/26278021/"&gt;Fluent Python&lt;/a&gt;（&lt;strong&gt;豆瓣评分：9.6&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-c851d6aa7b2705589a785b4fc5b81992_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Many programmers who learn Python basics fall into the trap of reinventing the wheel because of past experience in other languages, and try to bend the language to patterns that don't really apply to it. Author Luciano Ramalho, a Python Software Foundation member and Python programmer for 15 years, helps you drop your accent from another language so you can code Python fluently.
•Learn practical applications of generators for database processing
•Rethink some design patterns in a Python context
•Examine attribute descriptors and when to use them: the key to ORMs
•Explore Pythonic objects: protocols versus interfaces, abstract base classes and multiple inheritance&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No.2 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/26840215/"&gt;Hands-On Machine Learning with Scikit-Learn and TensorFlow&lt;/a&gt;（&lt;strong&gt;豆瓣评分：9.4&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-61ed524ef0df98adbd9cc3f73ae05789_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;通过具体的例子、很少的理论以及两款成熟的Python框架：Scikit-Learn和TensorFlow，作者AurélieGéron会帮助你掌握构建智能系统所需要的概念和工具。你将会学习到各种技术，从简单的线性回归及发展到深度神经网络。每章的练习有助于你运用所学到的知识，你只需要有一些编程经验就行了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No.3 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/26836700/"&gt;Python编程快速上手&lt;/a&gt;（&lt;strong&gt;豆瓣评分：9.2&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-3afd56a27f7418bfd16a4a2ab71d5df0_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;本书是一本面向实践的Python编程实用指南。本书的目的，不仅是介绍Python语言的基础知识，而且还通过项目实践教会读者如何应用这些知识和技能。本书的首部分介绍了基本Python编程概念，第二部分介绍了一些不同的任务，通过编写Python程序，可以让计算机自动完成它们。第二部分的每一章都有一些项目程序，供读者学习。每章的末尾还提供了一些习题和深入的实践项目，帮助读者巩固所学的知识。附录部分提供了所有习题的解答。
本书适合任何想要通过Python学习编程的读者，尤其适合缺乏编程基础的初学者。通过阅读本书，读者将能利用强大的编程语言和工具，并且会体会到Python编程的快乐。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No.4 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/20491078/"&gt;Python Cookbook&lt;/a&gt;（&lt;strong&gt;豆瓣评分：9.2&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-35701bcde6b2aa48a654185996a602e0_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Portable, powerful, and a breeze to use, Python is the popular open source object-oriented programming language used for both standalone programs and scripting applications. Completely updated for Python 3, the recipes in this book include: Data structures and algorithms Strings and text Dates and times Metaprogramming Testing With scores of practical examples and pertinent background information, the Python Cookbook, 3rd Edition is the one source you need if you're looking to build efficient, flexible, scalable, and well-integrated systems.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No.5 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/26829016/"&gt;Python编程：从入门到实践&lt;/a&gt;（&lt;strong&gt;豆瓣评分：9.2&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-5a481dd89ac317cb48a3e4dcba55f291_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;本书是一本针对所有层次的Python 读者而作的Python 入门书。全书分两部分：第一部分介绍用Python 编程所必须了解的基本概念，包括matplotlib、NumPy 和Pygal 等强大的Python 库和工具介绍，以及列表、字典、if 语句、类、文件与异常、代码测试等内容；第二部分将理论付诸实践，讲解如何开发三个项目，包括简单的Python 2D 游戏开发如何利用数据生成交互式的信息图，以及创建和定制简单的Web 应用，并帮读者解决常见编程问题和困惑。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No.6 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/3617254/"&gt;The Definitive Guide to Django, 2nd Edition&lt;/a&gt;&lt;strong&gt;（豆瓣评分：9.0）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-39861577e3c030fb3a95dccca9a4b604_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The Definitive Guide to Django is broken into three parts, with the first introducing Django fundamentals such as installation and configuration, and creating the components that together power a Django–driven web site. The second part delves into the more sophisticated features of Django, including outputting non–HTML content such as RSS feeds and PDFs, caching, and user management. The appendixes serve as a detailed reference to Django’s many configuration options and commands.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No.7 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/2209702/"&gt;Programming Collective Intelligence&lt;/a&gt;&lt;strong&gt;（豆瓣评分：8.9）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-dff42530e7abdbe8aca4768cb5c05e3a_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Want to tap the power behind search rankings, product recommendations, social bookmarking, and online matchmaking? 
This fascinating book demonstrates how you can build Web 2.0 applications to mine the enormous amount of data created by people on the Internet. With the sophisticated algorithms in this book, you can write smart programs to access interesting datasets from other web sites, collect data from users of your own applications, and analyze and understand the data once you've found it. Programming Collective Intelligence takes you into the world of machine learning and statistics, and explains how to draw conclusions about user experience, marketing, personal tastes, and human behavior in general -- all from information that you and others collect every day.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No.8 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/26709315/"&gt;Effective Python&lt;/a&gt;&lt;strong&gt;（豆瓣评分：8.8）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-91b972ec281872571f61a14ee63874f8_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;本书作者Slatkin根据自己在Google公司多年开发Python基础架构所积累的经验，揭示Python语言中一些鲜为人知的微妙特性，并给出了能够改善代码功能及运行效率的习惯用法。通过本书，你能够了解到解决关键编程任务所用的最佳方式，并学会编写易于理解、便于维护且利于改进的代码。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No.9 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/5948760/"&gt;A Byte of Python&lt;/a&gt;（&lt;strong&gt;豆瓣评分：8.8&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-a04e89173183251427d01c1df31046cf_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;'A Byte of Python' is a book on programming using the Python language. It serves as a tutorial or guide to the Python language for a beginner audience. If all you know about computers is how to save text files, then this is the book for you.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No.10 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/3142908/"&gt;Python Tutorial&lt;/a&gt;（&lt;strong&gt;豆瓣评分：8.7&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-e41d10f6327896c404052bc327649b5c_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;最权威的 Python 教程，由 Python 作者 Guido van Rossum 主笔，有少许学院味道。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No.11 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/3117898/"&gt;Python源码剖析&lt;/a&gt;（&lt;strong&gt;豆瓣评分：8.7&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-ca14494fa0d051aba8ad91f4c8756ae1_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;为了更好地利用Python语言，无论是使用Python语言本身，还是将Python与C/C++交互使用，深刻理解Python的运行原理都是非常重要的。本书以CPython为研究对象，在C代码一级，深入细致地剖析了Python的实现。书中不仅包括了对大量Python内置对象的剖析，更将大量的篇幅用于对Python虚拟机及Python高级特性的剖析。通过此书，读者能够透彻地理解Python中的一般表达式、控制结构、异常机制、类机制、多线程机制、模块的动态加载机制、内存管理机制等核心技术的运行原理，同时，本书所揭示的动态语言的核心技术对于理解其他动态语言，如 Javascript、Ruby等也有较大的参考价值。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No.12 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/26005639/"&gt;父与子的编程之旅&lt;/a&gt;（&lt;strong&gt;豆瓣评分：8.7&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-00a655eaabd7358cfa5c4904103ad8ba_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;本书是一本家长与孩子共同学习编程的入门书。作者是一对父子，他们以Python语言为例，详尽细致地介绍了Python如何安装、字符串和操作符等程序设计的基本概念，介绍了条件语句、函数、模块等进阶内容，最后讲解了用Python实现游戏编程。书中的语言生动活泼，叙述简单明了。 为了让学习者觉得编程有趣，本书编排了很多卡通人物及场景对话，让学习者在轻松愉快之中跨入计算机编程的大门。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No.13 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/26274202/"&gt;Flask Web开发：基于Python的Web应用开发实战&lt;/a&gt;（&lt;strong&gt;豆瓣评分：8.7&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-bc0099615e44d7a7d7d4bb03e0302d54_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;本书不仅适合初级Web开发人员学习阅读，更是Python程序员用来学习高级Web开发技术的优秀参考书。本书的内容包括：
学习Flask应用的基本结构，编写示例应用；
使用必备的组件，包括模板、数据库、Web表单和电子邮件支持；
使用包和模块构建可伸缩的大型应用；
实现用户认证、角色和个人资料；
在博客网站中重用模板、分页显示列表以及使用富文本；
使用基于Flask的REST式API，在智能手机、平板电脑和其他第三方客户端上实现可用功能；
学习运行单元测试以及提升性能；
将Web应用部署到生产服务器。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No.14 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/25892709/"&gt;Python for Informatics&lt;/a&gt;（&lt;strong&gt;豆瓣评分：8.7&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-3a3583b11d7e182b85e285a6ceacb999_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This book is designed to introduce students to programming and computational thinking through the lens of exploring data. You can think of Python as your tool to solve problems that are far beyond the capability of a spreadsheet. It is an easy-to-use and easy-to learn programming language that is freely available on Windows, Macintosh, and Linux computers. There are free downloadable copies of this book in various electronic formats and a self-paced free online course where you can explore the course materials. All the supporting materials for the book are available under open and remixable licenses. This book is designed to teach people to program even if they have no prior experience.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No.15 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/3628911/"&gt;Dive Into Python 3&lt;/a&gt;（&lt;strong&gt;豆瓣评分：8.6&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-19617d6ee3fea026755c636c10ba8676_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Mark Pilgrim's Dive Into Python 3 is a hands-on guide to Python 3 (the latest version of the Python language) and its differences from Python 2. As in the original book, Dive Into Python, each chapter starts with a real, complete code sample, proceeds to pick it apart and explain the pieces, and then puts it all back together in a summary at the end.
This book includes:
Example programs completely rewritten to illustrate powerful new concepts now available in Python 3: sets, iterators, generators, closures, comprehensions, and much more
A detailed case study of porting a major library from Python 2 to Python 3
A comprehensive appendix of all the syntactic and semantic changes in Python 3
This is the perfect resource for you if you need to port applications to Python 3, or if you like to jump into languages fast and get going right away.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No.16 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/6962285/"&gt;Machine Learning in Action&lt;/a&gt;（&lt;strong&gt;豆瓣评分：8.5&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-a9e1c03d29efb57363acb5fce2a13247_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Machine Learning in Action is a unique book that blends the foundational theories of machine learning with the practical realities of building tools for everyday data analysis. In it, you'll use the flexible Python programming language to build programs that implement algorithms for data classification, forecasting, recommendations, and higher-level features like summarization and simplification.
As you work through the numerous examples, you'll explore key topics like classification, numeric prediction, and clustering. Along the way, you'll be introduced to important established algorithms, such as Apriori, through which you identify association patterns in large datasets and Adaboost, a meta-algorithm that can increase the efficiency of many machine learning tasks.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No.17 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/25779298/"&gt;利用Python进行数据分析&lt;/a&gt;（&lt;strong&gt;豆瓣评分：8.5&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-f22f2ffe613ea20bb89465c7603c8362_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;还在苦苦寻觅用Python控制、处理、整理、分析结构化数据的完整课程？本书含有大量的实践案例，你将学会如何利用各种Python库（包括NumPy、pandas、matplotlib以及IPython等）高效地解决各式各样的数据分析问题。
由于作者Wes McKinney是pandas库的主要作者，所以本书也可以作为利用Python实现数据密集型应用的科学计算实践指南。本书适合刚刚接触Python的分析人员以及刚刚接触科学计算的Python程序员。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No.18 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/1481058/"&gt;How to Think Like a Computer Scientist: Learning with Python&lt;/a&gt;（&lt;strong&gt;豆瓣评分：8.5&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-ecbfefaa307d6110cb4dec52bed37225_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;"How to Think Like a Computer Scientist" is an introduction to programming using Python, one of the best languages for beginners. This is a Free Book -- you can download it from thinkpython.com. But if you would like to make a contribution to this project, you can do it by buying a hardcopy or paying to download the electronic version here. Thank you!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No.19 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/26675127/"&gt;Python语言及其应用&lt;/a&gt;（&lt;strong&gt;豆瓣评分：8.5&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-874a7178121bf64ce6f33540b5350103_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;本书介绍Python 语言的基础知识及其在各个领域的具体应用，基于最新版本3.x。书中首先介绍了Python 语言的一些必备基本知识，然后介绍了在商业、科研以及艺术领域使用Python 开发各种应用的实例。文字简洁明了，案例丰富实用，是一本难得的Python 入门手册。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;No.20 &lt;a href="http://link.zhihu.com/?target=https%3A//book.douban.com/subject/11941213/"&gt;Learn Python the Hard Way&lt;/a&gt;（&lt;strong&gt;豆瓣评分：8.4&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="https://www.shenzhongqiang.com/images/v2-a4075e6b3e876e56827f56080ed46303_b.jpg"&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Master Python and become a programmer-even if you never thought you could! This breakthrough book and CD can help practically anyone get started in programming. It's called "The Hard Way," but it's really quite simple. What's "hard" is this: it requires discipline, practice, and persistence. Zed A. Shaw teaches the Python programming language through a series of 52 brilliantly-crafted exercises-all formatted consistently, and most no longer than two pages (including "extra credit"). Just read each exercise, type in its sample code precisely (no copy-and-paste!), and make the programs run. As you read, type, fix your mistakes, and watch the results, you'll learn how software works, how programming works, what good programs look like, and how to read, write, and see code. You'll discover how to spot crucial differences that fundamentally affect program behavior, and you'll learn everything you need to know about Python logic, input/output, variables, and functions. Above all, you'll learn the attention to detail that is indispensable to successful programming (and so much else in life). At first, yes, it can be difficult. But it gets easier. And Shaw offers plenty of extra guidance and insight through 5+ full hours of teaching video on the accompanying CD. As Shaw's thousands of online readers and fans will attest, the moment will come when you just "get it"-and that moment feels great. Nothing important comes without discipline, practice, and persistence. But, with Learn Python the Hard Way, readers who bring those qualities to programming will master it-and they will reap the rewards, both personally and in their careers.&lt;/p&gt;
&lt;/blockquote&gt;</content><category term="爬虫"></category><category term="Python"></category><category term="爬虫"></category></entry></feed>