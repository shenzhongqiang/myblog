<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>强哥的世界 - 数据分析</title><link href="http://www.shenzhongqiang.com/" rel="alternate"></link><link href="http://www.shenzhongqiang.com/feeds/shu-ju-fen-xi.atom.xml" rel="self"></link><id>http://www.shenzhongqiang.com/</id><updated>2018-11-05T10:20:00+08:00</updated><subtitle>技术 | 生活 | 摄影</subtitle><entry><title>60行代码爬取知乎神回复</title><link href="http://www.shenzhongqiang.com/crawler-zhihu-funny-answers.html" rel="alternate"></link><published>2018-11-05T10:20:00+08:00</published><updated>2018-11-05T10:20:00+08:00</updated><author><name>Zhongqiang Shen</name></author><id>tag:www.shenzhongqiang.com,2018-11-05:/crawler-zhihu-funny-answers.html</id><summary type="html">&lt;p&gt;之前的一篇文章 &lt;a href="https://zhuanlan.zhihu.com/p/46132179"&gt;爬虫爬了下知乎上的神回复，已笑趴～&lt;/a&gt; 在公众号发布后，引发了大家热烈的反响 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;之前的一篇文章 &lt;a href="https://zhuanlan.zhihu.com/p/46132179"&gt;爬虫爬了下知乎上的神回复，已笑趴～&lt;/a&gt; 在公众号发布后，引发了大家热烈的反响。很多朋友觉得很神奇，在后台问强哥是怎么做到的，有的朋友还表示不太相信。其实爬取知乎神回复很简单，这篇文章 我们就来揭晓一下背后的原理。&lt;/p&gt;
&lt;p&gt;知乎神回复都有些什么特点呢？我们先来观察一下。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-57f6debdb9cf67c21ef0b544f4d8373d_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-5b2beaeaeed1d6141e6b9fceb69f8b6b_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;大家看出什么规律了么？短小精辟有没有？赞同很多有没有？所以爬取知乎神回复我们只要爬取那些赞同多又字数少的回答就可以。 简单的两个步骤就能实现，第一步爬取知乎回答，第二部筛选回答。是不是很easy？&lt;/p&gt;
&lt;h4&gt;爬取知乎回答&lt;/h4&gt;
&lt;p&gt;第一步我们爬取知乎上的回答。知乎上的回答太多了，一下子爬取所有的回答会很费时，我们可以选定几个话题，爬取这几个话题里 的内容。&lt;/p&gt;
&lt;p&gt;下面的函数用于爬取某一个指定话题的内容&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_answers_by_page&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;topic_id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;page_no&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;offset&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;page_no&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;
    &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;topic_url&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="c1"&gt;# topic_url是这个话题对应的url&lt;/span&gt;
    &lt;span class="n"&gt;headers&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="s2"&gt;&amp;quot;User-Agent&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;verify&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;loads&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;is_end&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;paging&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;is_end&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;items&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;data&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;client&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pymongo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MongoClient&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;db&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;zhihu&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;answers&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;insert_many&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;saved_topics&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;insert&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;topic_id&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;topic_id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;page_no&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;page_no&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;is_end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;get_answers_by_page函数有两个参数，第一个参数是话题的id，第二个参数表示爬的是第几页的内容。&lt;/p&gt;
&lt;p&gt;爬下来的内容当中有几个需要注意的字段，下图中用黄框高亮出来了&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-45fd9f3c05a0ecd3544969c6068aa4f7_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;这几个字段的含义如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;question.title - 问题的标题&lt;/li&gt;
&lt;li&gt;content - 回答的内容&lt;/li&gt;
&lt;li&gt;voteup_count - 赞同的数量&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这些字段在下一步筛选回答的时候会用到。&lt;/p&gt;
&lt;h4&gt;筛选回答&lt;/h4&gt;
&lt;p&gt;爬完数据后，我们来筛选一下结果。&lt;/p&gt;
&lt;p&gt;我们用MongoDB中的聚合管道对回答做筛选（关于MongoDB的聚合管道的用法可以参考&lt;a href="http://link.zhihu.com/?target=https%3A//docs.mongodb.com/manual/meta/aggregation-quick-reference/"&gt;Aggregation Pipeline Quick Reference&lt;/a&gt;），代码如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;client&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pymongo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MongoClient&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;db&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;zhihu&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;items&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;answers&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;aggregate&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;$match&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;target.type&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;answer&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}},&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;$match&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;target.voteup_count&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;$gte&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;}}},&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;$addFields&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;answer_len&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;$strLenCP&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;$target.content&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;}}},&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;$match&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;answer_len&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;$lte&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;}}},&lt;/span&gt;
&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上面的代码会筛选所有赞同大于1000、字数小于50的回答，筛选出来的结果就是短小精辟的神回复。&lt;/p&gt;
&lt;p&gt;以上是核心代码，完整代码已上传github，大家可以在【Python与数据分析】公众号后台回复“&lt;strong&gt;知乎神回复&lt;/strong&gt;”获取地址。&lt;/p&gt;
&lt;h4&gt;知乎神回复&lt;/h4&gt;
&lt;p&gt;代码写完了，我们来运行下看看。恰好昨天是程序员节，我们就来筛选一下和程序员有关的神回复。结果如下，一共75条搞笑段子。&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;作者: 夏梓耀&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/47606748/answer/106901253"&gt;码农们最常说的「谎言」有哪些？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 码农们最常说的「谎言」有哪些？
A: //TODO&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;2&lt;/p&gt;
&lt;p&gt;作者: 匿名用户&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/34043434/answer/57826281"&gt;在 GitHub 上保持 365 天全绿是怎样一种体验？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 在 GitHub 上保持 365 天全绿是怎样一种体验？
A: 曾经保持了200多天全绿，但是冷落了女朋友，一直绿到现在。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;3&lt;/p&gt;
&lt;p&gt;作者: 叛逆者&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/48894278/answer/113185239"&gt;如何反驳「程序员离开电脑就是废物」这个观点？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 如何反驳「程序员离开电脑就是废物」这个观点？
A: 不不不，很多程序员在电脑前也是废物。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;4&lt;/p&gt;
&lt;p&gt;作者: xlzd&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/38748367/answer/148126016"&gt;假如有一天所有的人都使用计算机语言说话，会是怎样的场景？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 假如有一天所有的人都使用计算机语言说话，会是怎样的场景？
A: hello, world.烫烫烫烫烫烫烫�d}��R�0:�v�?.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;5&lt;/p&gt;
&lt;p&gt;作者: 知乎用户&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/48690700/answer/112221009"&gt;突然想开一家程序员主题的餐馆，名字就叫程序员的菜，菜名就叫各种语言中的关键字，各位指点一哈，有前途没？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 突然想开一家程序员主题的餐馆，名字就叫程序员的菜，菜名就叫各种语言中的关键字，各位指点一哈，有前途没？
A: 进门一个大大的 hello world 招牌菜叫“红烧产品经理” 一定会爆满的&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;7&lt;/p&gt;
&lt;p&gt;作者: 匿名用户&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/59445070/answer/345045044"&gt;编程最基本的术语 “bug” 该怎么翻译？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 编程最基本的术语 “bug” 该怎么翻译？
A: 幺蛾子，你的程序又出幺蛾子了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;8&lt;/p&gt;
&lt;p&gt;作者: neksusk&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/20029839/answer/13732329"&gt;编程的乐趣是什么？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 编程的乐趣是什么？
A: 人的成就感来源于两样东西，创造和毁灭。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;9&lt;/p&gt;
&lt;p&gt;作者: 麦克灵伟&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/48894278/answer/113193764"&gt;如何反驳「程序员离开电脑就是废物」这个观点？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 如何反驳「程序员离开电脑就是废物」这个观点？
A: 老实说 跟这种女人都能聊下去 你是不是想上她？&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;10&lt;/p&gt;
&lt;p&gt;作者: Amb BAI&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/28056906/answer/39217410"&gt;作为程序员，你在编程时吃了哪些数学的亏？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 作为程序员，你在编程时吃了哪些数学的亏？
A: 看论文时候一个"显然"推了我一下午&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;11&lt;/p&gt;
&lt;p&gt;作者: 知乎用户&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/26089279/answer/32091743"&gt;土豪程序员的设备都有啥？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 土豪程序员的设备都有啥？
A: 女朋友。。。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;12&lt;/p&gt;
&lt;p&gt;作者: 兔二&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/30313169/answer/47580934"&gt;祈求代码不出 bug 该拜哪个神仙？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 祈求代码不出 bug 该拜哪个神仙？
A: 拜雍正，专治八阿哥。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;13&lt;/p&gt;
&lt;p&gt;作者: 知乎用户&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/37989425/answer/74424369"&gt;考上好大学学 IT 是不是当今中国穷人家孩子晋级中产唯一的出路？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 考上好大学学 IT 是不是当今中国穷人家孩子晋级中产唯一的出路？
A: 对，就4条路 写代码 搞金融 在代码圈搞金融 在金融圈写代码&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;14&lt;/p&gt;
&lt;p&gt;作者: Cascade&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/21400402/answer/18111520"&gt;为什么程序员无论到哪儿都喜欢背电脑包，哪怕里面没有装电脑？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 为什么程序员无论到哪儿都喜欢背电脑包，哪怕里面没有装电脑？
A: 因为他们没有别的包。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;15&lt;/p&gt;
&lt;p&gt;作者: SErHo&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/23090743/answer/23581453"&gt;「Talk is cheap. Show me the code」怎么翻译比较好？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 「Talk is cheap. Show me the code」怎么翻译比较好？
A: 屁话少说，放码过来。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;16&lt;/p&gt;
&lt;p&gt;作者: An0th3r&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/63765274/answer/214281927"&gt;为什么程序员的女朋友或老婆颜值普遍要高于男方很多？还是说程序员已经算是婚恋市场的优质股了？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 为什么程序员的女朋友或老婆颜值普遍要高于男方很多？还是说程序员已经算是婚恋市场的优质股了？
A: 程序员女朋友颜值高，我是服的，因为随便问十个程序员他的女朋友是谁，有九个回答是新垣结衣&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;17&lt;/p&gt;
&lt;p&gt;作者: fullsail&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/266816276/answer/320996324"&gt;为什么一部分人宁可买几个机械键盘换着用，也不愿意给自己敷一下面膜？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 为什么一部分人宁可买几个机械键盘换着用，也不愿意给自己敷一下面膜？
A: 老子不靠脸吃饭。 老子的辛辛苦苦挣来的钞票。老子想怎么花就怎么花。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;18&lt;/p&gt;
&lt;p&gt;作者: 苏予&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/23396163/answer/24457537"&gt;程序员夫妻结婚戒指刻什么字好？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 程序员夫妻结婚戒指刻什么字好？
A: 0 error 0 warning&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;19&lt;/p&gt;
&lt;p&gt;作者: 苏莉安&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/25153900/answer/30206460"&gt;IT 工程师被叫「码农」时是否会不舒服？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: IT 工程师被叫「码农」时是否会不舒服？
A: 我们好歹还是人，产品和设计已经是狗了……&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;20&lt;/p&gt;
&lt;p&gt;作者: 白如冰&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/23386954/answer/24420889"&gt;为什么一个销售男（30岁）会约我一个男程序员（24岁）去小区附近的星巴克？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 为什么一个销售男（30岁）会约我一个男程序员（24岁）去小区附近的星巴克？
A: 根据哥多年的经验，他应该是有巨牛逼的idea然后只差程序员去实现了&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;21&lt;/p&gt;
&lt;p&gt;作者: 随喜&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/66249920/answer/300623623"&gt;怎么找到喜欢程序员的妹子做女友？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 怎么找到喜欢程序员的妹子做女友？
A: 看缘分，知乎上这么多用户，你关注到我就是缘分。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;22&lt;/p&gt;
&lt;p&gt;作者: 知乎用户&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/19921151/answer/13550240"&gt;程序员女朋友如何给程序员男朋友过生日？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 程序员女朋友如何给程序员男朋友过生日？
A: 告诉他，接口已经准备好了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;23&lt;/p&gt;
&lt;p&gt;作者: 程序员大叔&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/38200429/answer/75361639"&gt;作为程序员，你是如何在工作以后找到女朋友的？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 作为程序员，你是如何在工作以后找到女朋友的？
A: 题主作了这么久的程序员，还喜欢女孩子已经难能可贵了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;24&lt;/p&gt;
&lt;p&gt;作者: 某个小超&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/21333711/answer/17953891"&gt;程序员转行烧烤需要做哪些准备，有哪些优势和劣势？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 程序员转行烧烤需要做哪些准备，有哪些优势和劣势？
A: 你看，你连自己做烧烤都不知道优势劣势在哪里，所以，你还是需要一名产品经理。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;25&lt;/p&gt;
&lt;p&gt;作者: Jack Ma&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/37017953/answer/70032115"&gt;哪些话可以惹火程序员？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 哪些话可以惹火程序员？
A: 路过他电脑前时说一句，呦，又在写bug呢!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;26&lt;/p&gt;
&lt;p&gt;作者: 姚冬&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/27511902/answer/36931243"&gt;我的一位老师说，Java 适用于大型软件而 C# 适用中小型软件。这是真的么？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 我的一位老师说，Java 适用于大型软件而 C# 适用中小型软件。这是真的么？
A: Java有项天赋，就是能把中小型软件写成大型的。
27&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;作者: 大猫 链接: &lt;a href="https://www.zhihu.com/question/26025387/answer/31873025"&gt;为什么 2014 年程序员薪资那么高？&lt;/a&gt; 来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 为什么 2014 年程序员薪资那么高？ A: 时薪又不高&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;28&lt;/p&gt;
&lt;p&gt;作者: 廖雪峰&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/20082607/answer/356841938"&gt;是不是大部分程序员都在抱怨工资低？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 是不是大部分程序员都在抱怨工资低？
A: 谁、谁在抱怨工资高？&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;29&lt;/p&gt;
&lt;p&gt;作者: ze ran&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/28987904/answer/42805814"&gt;单身程序狗解决了一个技术难题后没有妹子可以炫耀或夸一下自己怎么办？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 单身程序狗解决了一个技术难题后没有妹子可以炫耀或夸一下自己怎么办？
A: 现在你明白了吧，为什么那么多程序员要写技术博客。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;30&lt;/p&gt;
&lt;p&gt;作者: 知乎用户&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/23344932/answer/24308022"&gt;中国程序员是否偏爱「冲锋衣+牛仔裤+运动鞋」的衣着？如果是，为何会形成这样的潮流？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 中国程序员是否偏爱「冲锋衣+牛仔裤+运动鞋」的衣着？如果是，为何会形成这样的潮流？
A: 穿那么好看给程序看吗？&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;31&lt;/p&gt;
&lt;p&gt;作者: 匿名用户&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/24429345/answer/27761796"&gt;作为 IT 从业人员，你觉得有什么工具大大提高了你的工作效率？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 作为 IT 从业人员，你觉得有什么工具大大提高了你的工作效率？
A: 单身&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;32&lt;/p&gt;
&lt;p&gt;作者: 温酒&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/267094042/answer/319107651"&gt;为什么我认为程序员似乎大多不善言辞？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 为什么我认为程序员似乎大多不善言辞？
A: 你就当是我们情商低就好了， 这样你开心， 我们也开心。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;33&lt;/p&gt;
&lt;p&gt;作者: vczh&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/19920560/answer/363981684"&gt;在中国，年龄最大的程序员不过40岁左右，请问中国的程序员未来还可以做什么？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 在中国，年龄最大的程序员不过40岁左右，请问中国的程序员未来还可以做什么？
A: 这跟为什么90后没人活过30岁是同一个原理&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;34&lt;/p&gt;
&lt;p&gt;作者: ze ran&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/25655170/answer/31328622"&gt;如何回复程序员发来的短信：「Hello world」？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 如何回复程序员发来的短信：「Hello world」？
A: hello nerd.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;35&lt;/p&gt;
&lt;p&gt;作者: 李继刚&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/19892427/answer/13286326"&gt;怎么看出 IT 男喜欢一个女生？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 怎么看出 IT 男喜欢一个女生？
A: 当他拼着自己早已养成的寡言少语的习惯去死命的跟你套近乎的时候&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;36&lt;/p&gt;
&lt;p&gt;作者: 叛逆者&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/20662631/answer/43395016"&gt;为什么程序员不应该会修电脑？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 为什么程序员不应该会修电脑？
A: 范冰冰需要会修电视机吗？&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;37&lt;/p&gt;
&lt;p&gt;作者: 匿名用户&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/42115074/answer/93621264"&gt;同事说自己 C++ 水平全中国第一，怎么让他意识到自己没那么厉害？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 同事说自己 C++ 水平全中国第一，怎么让他意识到自己没那么厉害？
A: 实不相瞒，我也不是装逼：我的 C++ 水平全国第 0。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;38&lt;/p&gt;
&lt;p&gt;作者: 刘小脑袋&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/26470075/answer/32898565"&gt;为什么 iPhone 删软件时，所有图标都要抖？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 为什么 iPhone 删软件时，所有图标都要抖？
A: 第三方软件是吓得，系统自带软件是嘚瑟&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;39&lt;/p&gt;
&lt;p&gt;作者: AcFun弹幕视频网&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/67576286/answer/254405561"&gt;左轮手枪装有一颗子弹，对着自己头开一枪奖励10万元，两枪1亿，三枪2亿，四枪4亿，5枪16亿，值得吗？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 左轮手枪装有一颗子弹，对着自己头开一枪奖励10万元，两枪1亿，三枪2亿，四枪4亿，5枪16亿，值得吗？
A: 只要不打要害，我告诉你，我能打到我们A站上市！！！！&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;40&lt;/p&gt;
&lt;p&gt;作者: 张小贱&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/25145861/answer/30202727"&gt;iPhone 处理器的性能按照现在每年翻一倍的节奏，是不是很快就能赶上甚至超过台式电脑的处理器？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: iPhone 处理器的性能按照现在每年翻一倍的节奏，是不是很快就能赶上甚至超过台式电脑的处理器？
A: 小时候我总觉得过两年我就能和大我两岁的哥哥一样大了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;41&lt;/p&gt;
&lt;p&gt;作者: 解磊&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/19631509/answer/25393717"&gt;知乎给你带来的最小限度的好处是什么？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 知乎给你带来的最小限度的好处是什么？
A: 消磨时间还不觉得罪恶。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;42&lt;/p&gt;
&lt;p&gt;作者: Derek Chan&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/22331607/answer/24951350"&gt;有哪些反人类的科技发明或设计？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 有哪些反人类的科技发明或设计？
A: 电脑连不上网，诊断以后它提示我要联网解决&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;43&lt;/p&gt;
&lt;p&gt;作者: 汪惟&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/21584213/answer/18861007"&gt;为什么设计师不愿意被称为美工？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 为什么设计师不愿意被称为美工？
A: 只要工资开的高，叫我阿姨都行。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;44&lt;/p&gt;
&lt;p&gt;作者: Mr.Robot&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/24495947/answer/28076585"&gt;为什么有人认为网易云音乐是业界良心？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 为什么有人认为网易云音乐是业界良心？
A: 有一天突然给我推送一条消息说我要的歌词找到了&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;45&lt;/p&gt;
&lt;p&gt;作者: 知乎用户&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/33279324/answer/56191019"&gt;为什么没有出现无人机自毁式攻击武器呢？恐怖分子用过吗？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 为什么没有出现无人机自毁式攻击武器呢？恐怖分子用过吗？
A: 你是说导弹么？&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;46&lt;/p&gt;
&lt;p&gt;作者: 安雅&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/20051430/answer/23065827"&gt;既然思想是我的，那么为什么有时候我控制不了我的负面情绪？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 既然思想是我的，那么为什么有时候我控制不了我的负面情绪？
A: 操作系统不会允许用户访问、修改及删除核心系统文件，因为这会损坏系统，导致运行异常。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;47&lt;/p&gt;
&lt;p&gt;作者: isotone&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/40942442/answer/89479641"&gt;鲁迅虽然很牛，但在这世界十大文豪里是不是凑数的？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 鲁迅虽然很牛，但在这世界十大文豪里是不是凑数的？
A: 为什么文豪要为文盲排的榜买单？&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;48&lt;/p&gt;
&lt;p&gt;作者: 念缺一Miracle&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/67992675/answer/259398868"&gt;人类的哪些科技已经接近瓶颈，很久没有重大突破了？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 人类的哪些科技已经接近瓶颈，很久没有重大突破了？
A: 烧开水&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;49&lt;/p&gt;
&lt;p&gt;作者: vczh&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/30985440/answer/50188231"&gt;如何看待某些人下载软件喜欢到官网的偏好？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 如何看待某些人下载软件喜欢到官网的偏好？
A: 同学你没中过百度全家桶吧？&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;50&lt;/p&gt;
&lt;p&gt;作者: 知乎用户&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/29717932/answer/45915429"&gt;为什么很多人买笔记本打游戏，而不用性能更好的台式机？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 为什么很多人买笔记本打游戏，而不用性能更好的台式机？
A: 因为买不起房子。。。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;51&lt;/p&gt;
&lt;p&gt;作者: DillyLiu&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/27755657/answer/37953999"&gt;第一次听好耳机对你带来的震撼有多大？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 第一次听好耳机对你带来的震撼有多大？
A: 第一次听好耳机不会给人多大震撼，但是当换回普通耳机的时候，震撼就来了&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;52&lt;/p&gt;
&lt;p&gt;作者: 林灿斌&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/24503682/answer/37979707"&gt;Chrome 真的很费电吗？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: Chrome 真的很费电吗？
A: 不费电，我现在就在用Chrome，用到现在这么久，笔记本电量还有50%，我估讠&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;53&lt;/p&gt;
&lt;p&gt;作者: 王文瀚&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/24884517/answer/29320483"&gt;MacBook 上安装 Windows 后的使用体验如何？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: MacBook 上安装 Windows 后的使用体验如何？
A: 像突然间有了软肋，并且还失去了铠甲。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;54&lt;/p&gt;
&lt;p&gt;作者: suchsu&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/27573401/answer/37173454"&gt;家里所有有关产品都用苹果产品是一种什么体验？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 家里所有有关产品都用苹果产品是一种什么体验？
A: 来个电话全家都响了起来&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;55&lt;/p&gt;
&lt;p&gt;作者: 蛋黄酱摧毁停车场&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/67264455/answer/251124814"&gt;你为什么不买 iPhone X？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 你为什么不买 iPhone X？
A: 日益增长的美好生活需要和贫穷的现实之间的矛盾&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;56&lt;/p&gt;
&lt;p&gt;作者: 张鑫&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/21971889/answer/19895502"&gt;为什么有人愿意花几千元买 iPhone ，却不愿意花几十元买正版 iPhone 软件和游戏？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 为什么有人愿意花几千元买 iPhone ，却不愿意花几十元买正版 iPhone 软件和游戏？
A: 因为他们下载不到iphone&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;57&lt;/p&gt;
&lt;p&gt;作者: 苦瓜&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/29739045/answer/46795719"&gt;有什么 App 取的名字特别惊艳？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 有什么 App 取的名字特别惊艳？
A: 水表助手…是查快递的…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;58&lt;/p&gt;
&lt;p&gt;作者: 王斯塔&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/20418839/answer/88198576"&gt;你为什么要买移动硬盘？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 你为什么要买移动硬盘？
A: 条件好了也要给自己的女人们住舒适点啊&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;59&lt;/p&gt;
&lt;p&gt;作者: 叛逆者&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/35339495/answer/62324107"&gt;如何用 iPad 遥控 PC 关机？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 如何用 iPad 遥控 PC 关机？
A: 瞄准pc电源键扔过去&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;60&lt;/p&gt;
&lt;p&gt;作者: 知乎用户&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/50391841/answer/120978712"&gt;如何评价 2016 年 9 月 7 日的苹果发布会？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 如何评价 2016 年 9 月 7 日的苹果发布会？
A: 为了新MacBook Pro，半年看了三场发布会……&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;61&lt;/p&gt;
&lt;p&gt;作者: 陈肖恩&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/21416623/answer/18162511"&gt;如何评价 Internet Explorer？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 如何评价 Internet Explorer？
A: 下载其他浏览器的浏览器 -----一年后----- IE8以下好烂，做前端想哭的节奏。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;62&lt;/p&gt;
&lt;p&gt;作者: 知乎用户&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/31338218/answer/51509136"&gt;爸妈让我攒钱买房，我却想买苹果电脑怎么办？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 爸妈让我攒钱买房，我却想买苹果电脑怎么办？
A: 你要真能3年攒50万的房子,差这1万7买个电脑么,大哥?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;63&lt;/p&gt;
&lt;p&gt;作者: 温馨&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/21083505/answer/27100834"&gt;有哪些垃圾手机软件？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 有哪些垃圾手机软件？
A: 短信拦截软件！ 拦截后告诉你它拦截了一条短信。 我相信99%的人会再去点进去看一下被拦截的短信！&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;64&lt;/p&gt;
&lt;p&gt;作者: Simon阿文&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/27804105/answer/38329967"&gt;一个完整的 PPT 做下来，最让你头疼的是什么？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 一个完整的 PPT 做下来，最让你头疼的是什么？
A: 怎样向领导隐藏自己的实力。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;65&lt;/p&gt;
&lt;p&gt;作者: 孙经东&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/22093333/answer/20296027"&gt;什么是 Vim 可以做而 Emacs 做不到的？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 什么是 Vim 可以做而 Emacs 做不到的？
A: 帮助乌干达的可怜儿童……&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;66&lt;/p&gt;
&lt;p&gt;作者: 王二小&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/31839209/answer/53522654"&gt;苹果用户为什么选择苹果？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 苹果用户为什么选择苹果？
A: 因为不用苹果的用户不是苹果用户。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;67&lt;/p&gt;
&lt;p&gt;作者: 唐缺&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/22933777/answer/23172556"&gt;计算机世界里有哪些经典谣言？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 计算机世界里有哪些经典谣言？
A: windows正在联机寻找解决方案。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;68&lt;/p&gt;
&lt;p&gt;作者: 羽扇纶巾2010&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/20977602/answer/17242303"&gt;有线鼠标会被无线鼠标取代吗？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 有线鼠标会被无线鼠标取代吗？
A: 我觉得在网吧有线鼠标就不会被取代&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;69&lt;/p&gt;
&lt;p&gt;作者: 北上&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/22933777/answer/23113353"&gt;计算机世界里有哪些经典谣言？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 计算机世界里有哪些经典谣言？
A: 我已阅读并同意该条款&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;70&lt;/p&gt;
&lt;p&gt;作者: 有时右逝&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/23524157/answer/90207540"&gt;魔兽圈中有哪些搞笑的事件？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 魔兽圈中有哪些搞笑的事件？
A: 你好，我觉得我就是魔兽世界里最大的笑话……&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;71&lt;/p&gt;
&lt;p&gt;作者: CCafe&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/52551550/answer/131149935"&gt;计算机系的学生都有哪些口头禅？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 计算机系的学生都有哪些口头禅？
A: 我电脑上运行的好好的啊⋯⋯&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;72&lt;/p&gt;
&lt;p&gt;作者: 贝尔&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/38482487/answer/76714182"&gt;在飞机上遇到了马云该怎么聊天？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 在飞机上遇到了马云该怎么聊天？
A: Hello Jack, my name is Jackson.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;73&lt;/p&gt;
&lt;p&gt;作者: 匿名用户&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/264163101/answer/279437857"&gt;如何理解马云说八年后房如葱？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 如何理解马云说八年后房如葱？
A: 赶紧买葱啊，葱要涨价了！！！&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;74&lt;/p&gt;
&lt;p&gt;作者: Colliot&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/26759276/answer/156706164"&gt;如何理解马云说的「把地主杀了，不等于你能富起来」这句话？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 如何理解马云说的「把地主杀了，不等于你能富起来」这句话？
A: 他的意思是「别杀我」&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;75&lt;/p&gt;
&lt;p&gt;作者: justjavac&lt;/p&gt;
&lt;p&gt;链接: &lt;a href="https://www.zhihu.com/question/48491508/answer/111391437"&gt;如何看待百度在魏则西事件过去之后又悄悄的把承诺整改的广告提示颜色调淡了？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;来源: 知乎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Q: 如何看待百度在魏则西事件过去之后又悄悄的把承诺整改的广告提示颜色调淡了？
A: 请大家不要黑百度，我是做前端开发的，这是时间久了，网页CSS掉色了&lt;/p&gt;
&lt;/blockquote&gt;</content><category term="数据分析"></category><category term="Python"></category><category term="爬虫"></category><category term="数据分析"></category></entry><entry><title>用数据分析选购手机</title><link href="http://www.shenzhongqiang.com/data-analysis-for-cellphone-purchase.html" rel="alternate"></link><published>2018-10-03T00:00:00+08:00</published><updated>2018-10-03T00:00:00+08:00</updated><author><name>Zhongqiang Shen</name></author><id>tag:www.shenzhongqiang.com,2018-10-03:/data-analysis-for-cellphone-purchase.html</id><summary type="html">&lt;p&gt;9月13日发布的iPhone Xs算是手机界的大新闻了，新款iPhone的价格也再度刷新了手机定价的记录。看完发布会，相信很多人的心情是这样的 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;9月13日发布的iPhone Xs算是手机界的大新闻了，新款iPhone的价格也再度刷新了手机定价的记录。看完发布会，相信很多人的心情是这样的&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-1dd05a440d6c28b92e4c1c9a71d38bcb_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;强哥之前用的iPhone 6，最近准备换手机。经济形势严峻，换iPhone是换不起了，只能消费降级，投奔安卓阵营。&lt;/p&gt;
&lt;p&gt;1500元的预算，连个二手的iPhone都买不了，但是在安卓机里却有不少选择。本文我们就来看看怎样用数据分析选购手机。&lt;/p&gt;
&lt;h4&gt;分析思路&lt;/h4&gt;
&lt;p&gt;思路很简单，上京东商城把所有手机的数据爬下来，然后根据配置、价格过滤出符合条件的手机，在过滤出来的手机里选择一部性价比最高的。画成流程图，大致是这样的&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-ba3498aaf932d94719cc8a1fdca92c31_b.jpg"&gt;&lt;/p&gt;
&lt;h4&gt;爬取数据&lt;/h4&gt;
&lt;p&gt;第一步，我们先从京东商城爬取所有在售的手机数据。这里我们关心的主要是价格和配置信息，商品页面上的价格和配置信息像下面两张图所示&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-10cd0c6a1a477d6aee0efa887eef2f59_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-c03ba922bb48675d36c77f2ce5f3a491_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;我们编写代码爬取所有手机的价格和配置信息，爬虫的核心代码如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 获取手机单品的价格&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_price&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;skuid&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;https://c0.3.cn/stock?skuId=&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;skuid&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;amp;area=1_72_4137_0&amp;amp;venderId=1000004123&amp;amp;cat=9987,653,655&amp;amp;buyNum=1&amp;amp;choseSuitSkuIds=&amp;amp;extraParam={&lt;/span&gt;&lt;span class="si"&gt;%22o&lt;/span&gt;&lt;span class="s2"&gt;riginid%22:&lt;/span&gt;&lt;span class="si"&gt;%221%&lt;/span&gt;&lt;span class="s2"&gt;22}&amp;amp;ch=1&amp;amp;fqsp=0&amp;amp;pduid=15379228074621272760279&amp;amp;pdpin=&amp;amp;detailedAdd=null&amp;amp;callback=jQuery3285040&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;verify&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;GBK&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;matched&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;jQuery\d+\((.*)\)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;matched&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;loads&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;matched&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="n"&gt;price&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;stock&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;jdPrice&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;p&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;price&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;

&lt;span class="c1"&gt;# 获取手机的配置信息&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_item&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;skuid&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;price&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_price&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;skuid&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;verify&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;
    &lt;span class="n"&gt;root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;etree&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HTML&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;nodes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.//div[@class=&amp;quot;Ptable&amp;quot;]/div[@class=&amp;quot;Ptable-item&amp;quot;]&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;params&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;price&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;price&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;skuid&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;skuid&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;nodes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;text_nodes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;./dl&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;text_node&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;text_nodes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;text_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tag&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;dt&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;k&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;text_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;
            &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;text_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tag&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;dd&amp;quot;&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;class&amp;quot;&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;text_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attrib&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;text_node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;
                &lt;span class="n"&gt;params&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;params&lt;/span&gt;

&lt;span class="c1"&gt;# 获取一个页面中的所有手机信息&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_cellphone&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;page&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;https://list.jd.com/list.html?cat=9987,653,655&amp;amp;page={}&amp;amp;sort=sort_rank_asc&amp;amp;trans=1&amp;amp;JL=6_0_0&amp;amp;ms=4#J_main&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;page&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;requests&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;verify&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;root&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;etree&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HTML&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;cell_nodes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xpath&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;.//div[@class=&amp;quot;p-img&amp;quot;]/a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;client&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pymongo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MongoClient&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;db&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;DB&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;node&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;cell_nodes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;item_url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fix_url&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;node&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;attrib&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;href&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
        &lt;span class="n"&gt;matched&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;item.jd.com/(\d+)\.html&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;item_url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;skuid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;matched&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="n"&gt;saved&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;skuid&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;skuid&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;saved&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;saved&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;continue&lt;/span&gt;
        &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_item&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;skuid&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;item_url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="c1"&gt;# 结果存入MongoDB&lt;/span&gt;
        &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;insert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;需要注意的是，上面的get_price和get_item函数分别从两个url获取数据，这是因为配置信息可以直接从商品页面中解析得到，而价格信息需要从另外一个ajax请求里获得。爬下来的所有数据存入MongoDB。&lt;/p&gt;
&lt;h4&gt;过滤数据&lt;/h4&gt;
&lt;p&gt;爬下来的手机数据当中，信息完整的共有4700多条数据，这4700多部手机属于70个手机品牌。 这些品牌画成词云图是这样的&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-cf40a63ec3cd7015fa3c1f62ac40eda7_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;手机的配置主要有以下这些参数&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;是否双卡双待&lt;/li&gt;
&lt;li&gt;机身材质&lt;/li&gt;
&lt;li&gt;CPU型号&lt;/li&gt;
&lt;li&gt;内存大小&lt;/li&gt;
&lt;li&gt;存储容量&lt;/li&gt;
&lt;li&gt;电池容量&lt;/li&gt;
&lt;li&gt;屏幕材质&lt;/li&gt;
&lt;li&gt;屏幕大小&lt;/li&gt;
&lt;li&gt;分辨率&lt;/li&gt;
&lt;li&gt;摄像头&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;强哥平时用手机主要是看看书、刷刷知乎微信、买买东西，所以选购新手机的时候最关心的就是速度、容量、待机时间这几项，对摄像头、屏幕材质倒不是特别在乎。考虑以上因素，在对数据做过滤的时候，我设定了以下几个条件&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CPU的品牌是高通&lt;/li&gt;
&lt;li&gt;内存大小大于等于6GB&lt;/li&gt;
&lt;li&gt;存储容量大于等于64GB &lt;/li&gt;
&lt;li&gt;电池容量大于3000mAh&lt;/li&gt;
&lt;li&gt;必须是双卡双待&lt;/li&gt;
&lt;li&gt;价格在1500元以内&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;过滤数据的代码如下&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;client&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pymongo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MongoClient&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;db&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;DB&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;items&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find&lt;/span&gt;&lt;span class="p"&gt;({})&lt;/span&gt;
&lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;preprocess&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;df_res&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cpu_brand&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;骁龙（Snapdragon)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;battery_cap&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mi"&gt;3000&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rom&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mi"&gt;64&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ram&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dual_sim&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;price&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;=&lt;/span&gt;&lt;span class="mi"&gt;1500&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df_res&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;brand&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;model&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;color&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;cpu_brand&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;cpu_freq&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;cpu_core&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;cpu_model&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;rom&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;ram&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;battery_cap&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;price&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_values&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;by&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;price&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;首先从MongoDB里读取数据，然后创建DataFrame，对DataFrame里的数据按照上面的条件作选择。代码的最后一行将筛选出来的手机打印出来，并按价格从低到高排序。&lt;/p&gt;
&lt;p&gt;经过了这样一轮筛选后，我们得到了下面的38款手机&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-713e2ad330ddab5afac16f4485729842_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;上面的几部手机配置都比较接近，但是网上对小米的评价普遍比较高，于是又在上面的列表里筛选出了所有的小米手机，得到下面7款&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-22c121e96e6fac877fd939534850636f_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;这里就变成了红米Note5和小米6X的PK了。价格上，两者不差上下。配置方面，网上查到红米Note5的cpu是骁龙636的（上面的表格里缺少红米Note5的cpu型号），相比小米6X的骁龙660，636虽然性能上不如660，但更省电，而且考虑到红米Note5 4000毫安的超大容量电池，最后决定了购买红米Note 5这一款。作为一款千元机，骁龙636八核CPU、6G大内存、64G大存储、5.99英寸大视野全面屏、前置相机+后置双摄、超长的待机时间，这款手机大概算是千元机中的机皇了。&lt;/p&gt;
&lt;p&gt;所有代码已上传github，公众号【Python与数据分析】后台回复“选购手机”可获取地址。&lt;/p&gt;</content><category term="数据分析"></category><category term="Python"></category><category term="数据分析"></category></entry><entry><title>Python告诉你上海有哪些高性价比的西餐厅</title><link href="http://www.shenzhongqiang.com/python-shanghai-best-western-restaurants.html" rel="alternate"></link><published>2018-08-29T00:00:00+08:00</published><updated>2018-08-29T00:00:00+08:00</updated><author><name>Zhongqiang Shen</name></author><id>tag:www.shenzhongqiang.com,2018-08-29:/python-shanghai-best-western-restaurants.html</id><summary type="html">&lt;p&gt;七夕节就要到了，我们用Python爬了下点评上所有上海的西餐厅，看看上海都有哪些高性价比的西餐厅。&lt;/p&gt;
&lt;p&gt;爬虫的原理不多说了，很简单 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;七夕节就要到了，我们用Python爬了下点评上所有上海的西餐厅，看看上海都有哪些高性价比的西餐厅。&lt;/p&gt;
&lt;p&gt;爬虫的原理不多说了，很简单，按行政区爬取每个区的西餐厅，存入数据库。需要代码的同学可以在公众号【&lt;strong&gt;Python与数据分析&lt;/strong&gt;】后台回复“西餐厅”获取代码地址。&lt;/p&gt;
&lt;h4&gt;餐厅综合评分&lt;/h4&gt;
&lt;p&gt;在展现数据前，我们先介绍一下我们的餐厅综合评分。&lt;/p&gt;
&lt;p&gt;点评上对每家餐厅的评分有口味、环境和服务三项，如下&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-c5274378fae66e576bdce8c7187d16d5_b.jpg"&gt;&lt;/p&gt;
&lt;p&gt;我们综合这三项算出一个评分，作为对这家餐厅的综合评分，计算公式如下&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.zhihu.com/equation?tex=%E7%BB%BC%E5%90%88%E8%AF%84%E5%88%86+%3D+3+%5Cdiv+%281%5Cdiv%E5%8F%A3%E5%91%B3%E8%AF%84%E5%88%86%2B1%5Cdiv%E7%8E%AF%E5%A2%83%E8%AF%84%E5%88%86%2B1%5Cdiv%E6%9C%8D%E5%8A%A1%E8%AF%84%E5%88%86%29"&gt; &lt;/p&gt;
&lt;h4&gt;餐厅数据分析&lt;/h4&gt;
&lt;p&gt;我们共爬取了5000多家西餐厅，西餐厅的人均消费从10元到5000+不等，下图是不同价位的餐厅数量分布情况&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-97f7263fdec129ae4179aee8767157bd_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;可以看到，人均消费越低的餐厅数量越多，越是贵的餐厅数量越少。&lt;/p&gt;
&lt;p&gt;餐厅综合评分的分布情况如下&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-362b6ec98fd0812a5a91d07514caf13a_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;上图呈现偏态分布。放大图片可以看到，大部分餐厅的评分在7.8~8.6之间。&lt;/p&gt;
&lt;p&gt;我们来看看土豪们都去哪些餐厅。下图是上海最贵的10家西餐厅&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-26a689af464583bf26e806da1a054ec3_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;每一家的人均消费都在1000以上，最贵的一家更是超过了5000，果然贫穷限制了我的想象，土豪去的餐厅我们普通工薪阶层消费不起啊~&lt;/p&gt;
&lt;p&gt;上面的餐厅我们就过过眼瘾吧，我们来看看有哪些综合评分高，但价位又适中的餐厅。我们选取了综合评分8.8分以上，人均消费在200-300之间的餐厅，如下（排名按综合评分从高到低）&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/98286435"&gt; 双立人美食学院 ZWILLING GOURMET SCHOOL &lt;/a&gt;, 人均: 258, 综合评分: 9.30&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/67138913"&gt; Sky Restaurant &amp;amp; Lounge &lt;/a&gt;, 人均: 251, 综合评分: 9.20&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/103629748"&gt; TR TERRA ROSSA(中海环宇荟店) &lt;/a&gt;, 人均: 285, 综合评分: 9.20&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/73553342"&gt; esee LOUNGE &amp;amp; BAR &lt;/a&gt;, 人均: 291, 综合评分: 9.20&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/102282960"&gt; MOSSO音乐酒吧（live house）(长乐路店) &lt;/a&gt;, 人均: 220, 综合评分: 9.13&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/4227815"&gt; SISTERS BAR &amp;amp; RESTAURANT &lt;/a&gt;, 人均: 241, 综合评分: 9.10&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/76854134"&gt; DATING达庭西餐厅 &lt;/a&gt;, 人均: 202, 综合评分: 9.10&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/18982841"&gt; Crazy Oyster House &lt;/a&gt;, 人均: 281, 综合评分: 9.10&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/67556261"&gt; 碳匠音乐餐厅酒吧 &lt;/a&gt;, 人均: 275, 综合评分: 9.06&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/93473032"&gt; 泥土的味道Gout de Terroir &lt;/a&gt;, 人均: 211, 综合评分: 9.06&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/21341829"&gt; La casetta意式私家厨房(南京西路店) &lt;/a&gt;, 人均: 269, 综合评分: 9.03&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/97732766"&gt; C&amp;amp;R &lt;/a&gt;, 人均: 242, 综合评分: 9.03&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/37942497"&gt; JSTONE.ITALIAN KITCHEN&amp;amp;BAR(襄阳公园店) &lt;/a&gt;, 人均: 240, 综合评分: 9.03&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/96401331"&gt; Entrecôte法国牛扒馆 &lt;/a&gt;, 人均: 234, 综合评分: 9.03&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/8866486"&gt; Efes Turkish &amp;amp; Mediterranean Cuisine 艾菲斯餐厅 &lt;/a&gt;, 人均: 211, 综合评分: 9.00&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/9071330"&gt; Babbo &lt;/a&gt;, 人均: 204, 综合评分: 9.00&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/1926859"&gt; 夏朵花园 &lt;/a&gt;, 人均: 262, 综合评分: 9.00&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/95931702"&gt; 远方北纬30度餐厅Horizone Restaurant &lt;/a&gt;, 人均: 224, 综合评分: 9.00&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/17683780"&gt; Porto Matto意大利餐厅 &lt;/a&gt;, 人均: 259, 综合评分: 8.97&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/69448371"&gt; CHEF PAPA(协信星光店) &lt;/a&gt;, 人均: 211, 综合评分: 8.97&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/21343952"&gt; DIONNE红酒西餐厅(天钥桥路店) &lt;/a&gt;, 人均: 293, 综合评分: 8.96&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/77218611"&gt; Brownstone Tapas &amp;amp; Lounge布朗石西班牙餐厅酒吧(陆家嘴店) &lt;/a&gt;, 人均: 258, 综合评分: 8.96&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/93747240"&gt; DE CARBON BAR烤肉匠 &lt;/a&gt;, 人均: 213, 综合评分: 8.96&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/18338823"&gt; 凤凰西餐吧Phoenix Restaurant&amp;amp;Bar &lt;/a&gt;, 人均: 208, 综合评分: 8.96&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/22303119"&gt; Ermans Kitchen 珥玛厨房 &lt;/a&gt;, 人均: 233, 综合评分: 8.96&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/18021257"&gt; Mayita小玛雅墨西哥餐厅 &lt;/a&gt;, 人均: 217, 综合评分: 8.96&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/94309318"&gt; CommBiz康睦社 &lt;/a&gt;, 人均: 220, 综合评分: 8.96&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/72556891"&gt; 衡山99 Francis &lt;/a&gt;, 人均: 274, 综合评分: 8.95&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/69482454"&gt; 弗兰克牛排馆 Ribone steakhouse(外滩店) &lt;/a&gt;, 人均: 284, 综合评分: 8.93&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/20877970"&gt; husk restaurant &lt;/a&gt;, 人均: 255, 综合评分: 8.93&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/4599475"&gt; Brownstone Tapas &amp;amp; Lounge布朗石西班牙餐厅酒吧(永嘉庭店) &lt;/a&gt;, 人均: 246, 综合评分: 8.93&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/2713810"&gt; MAYA玛雅墨西哥餐厅(四方新城店) &lt;/a&gt;, 人均: 231, 综合评分: 8.93&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/3994102"&gt; 阿尔贝鲁西班牙餐厅 &lt;/a&gt;, 人均: 298, 综合评分: 8.93&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/97297788"&gt; loving Vincent-创意西餐(尚悦湾店) &lt;/a&gt;, 人均: 208, 综合评分: 8.89&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/96027466"&gt; Light &amp;amp; Salt Backstage 光与盐(南京东路店) &lt;/a&gt;, 人均: 292, 综合评分: 8.89&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/69623000"&gt; SILEX &lt;/a&gt;, 人均: 265, 综合评分: 8.89&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/22415791"&gt; La Cabane &lt;/a&gt;, 人均: 221, 综合评分: 8.87&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/21725401"&gt; Host Wine&amp;amp;Kitchen(Antoni) &lt;/a&gt;, 人均: 234, 综合评分: 8.87&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/91599682"&gt; LETS BURGER&amp;amp;LOBSTER(兴业太古汇店) &lt;/a&gt;, 人均: 201, 综合评分: 8.86&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/66866544"&gt; 味可思精品肉类体验馆 &lt;/a&gt;, 人均: 260, 综合评分: 8.86&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/19428889"&gt; 拉蒂娜Latina巴西烧烤音乐餐厅(铜仁路店) &lt;/a&gt;, 人均: 208, 综合评分: 8.86&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/27525052"&gt; Yasmine's 茉莉西餐厅(襄阳店) &lt;/a&gt;, 人均: 202, 综合评分: 8.83&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//www.dianping.com/shop/95914018"&gt; 煌庭LAVIDA &lt;/a&gt;, 人均: 206, 综合评分: 8.82&lt;/p&gt;
&lt;p&gt;上面共43家餐厅。点开链接可以跳转到点评的餐厅主页，可以看到，点评上这几家在口味、环境、服务方面的评价都不错，性价比很高。上海性价比最高的适合约会的餐厅基本都在这里了。&lt;/p&gt;
&lt;p&gt;明天就是七夕了，七夕节还没有安排的，妹子还没追到手的，强哥只能帮你到这儿了~&lt;/p&gt;
&lt;p&gt;最后祝大家七夕节快乐：）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-07dac14a2279972e16cda140648e4cb9_r.jpg"&gt;&lt;/p&gt;</content><category term="数据分析"></category><category term="Python"></category><category term="数据分析"></category><category term="爬虫"></category></entry><entry><title>Python爬虫告诉你北京房价有多高</title><link href="http://www.shenzhongqiang.com/python-beijing-house-price.html" rel="alternate"></link><published>2018-08-16T00:00:00+08:00</published><updated>2018-08-16T00:00:00+08:00</updated><author><name>Zhongqiang Shen</name></author><id>tag:www.shenzhongqiang.com,2018-08-16:/python-beijing-house-price.html</id><summary type="html">&lt;p&gt;这篇是之前一篇&lt;a href="https://zhuanlan.zhihu.com/p/40293278"&gt;Python爬虫告诉你上海房价有多高&lt;/a&gt;的姐弟篇，这一篇我们来分析分析首都北京的房价。&lt;/p&gt;
&lt;p&gt;贝壳上北京的在售房源共有 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;这篇是之前一篇&lt;a href="https://zhuanlan.zhihu.com/p/40293278"&gt;Python爬虫告诉你上海房价有多高&lt;/a&gt;的姐弟篇，这一篇我们来分析分析首都北京的房价。&lt;/p&gt;
&lt;p&gt;贝壳上北京的在售房源共有&lt;strong&gt;54107&lt;/strong&gt;套，平均售价&lt;strong&gt;677万&lt;/strong&gt;/套，平均单价&lt;strong&gt;66568元&lt;/strong&gt;/平方，平均房龄&lt;strong&gt;16.6&lt;/strong&gt;年。&lt;/p&gt;
&lt;p&gt;北京各区的房源分布如下&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-1592e5ee5a424cf9a3123d434e634342_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;每个区的均价如下&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-335fa6fcecc1f84f419877a2c65f050f_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;东城、西城、海淀、朝阳、石景山、丰台六区属于北京的主城区，其他属于远郊。主城区里以西城的房价最贵，单价超过了10万/平米。西城区内有很多风景名胜，有著名的月坛公园、恭王府、什刹海、北海公园等，被誉为中国华尔街的金融街也位于西城区内。&lt;/p&gt;
&lt;p&gt;北京最贵的10个板块的单价如下&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-35591a617a36039e1e538deec23d45d4_b.jpg"&gt;&lt;/p&gt;
&lt;p&gt;北京单价最高的十大小区如下&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-e583210429734140c69b5fdf0a778797_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;可以看到，单价最贵的板块和小区大多位于西城和东城两区内。十大单价最高的小区中，排名前三的都在金融街，金融街也成了黄金城区中的黄金地块。&lt;/p&gt;
&lt;p&gt;北京面积最大的在售房源如下&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-e4633b22881b1bf54d49583314517854_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;比较有意思的是，北京的豪宅都出奇的大，最大的一套面积居然有2500多平米，相当于6个篮球场的大小，大家想象一下~&lt;/p&gt;
&lt;p&gt;北京最贵的十大豪宅如下&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-d58f64fdaf98c01bbff25171a19d12db_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;最贵的豪宅售价1.25亿，相比上海最贵的豪宅便宜了不少。上面的表格里可以看到，北京的顶级豪宅很多都位于海淀区内，海淀区历来为皇家风水宝地，自然环境优越，人文氛围浓厚，古代一直作为中国皇家行宫之所在，著名的圆明园、颐和园都位于海淀区内。豪宅开发商选址海淀区也是看中这里人文、历史、环境俱佳的居住区域。&lt;/p&gt;
&lt;p&gt;我们选取十大豪宅中的一套，来欣赏一下豪宅的内部结构&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-5a4543158ff90e4cbbb1a45b57f3ddb8_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-3846d0b431acbab6e43ad491f53e20b7_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-313d1c38402cad2959216c98be26eee7_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-92167f7ce4f16d355750928f90adbd99_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-c2c55173961664c016ad76b5efef978f_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-a7270387d9fd44e654476afb93fbda39_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-9705b974356f93669532818b203e8c04_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-66305b704daf1d5b26f3f16f4a125102_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-b295f3a21819cf3e3eea7c4f76609885_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-394dc9c45758ac2cc62936082864aee0_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-1c8c7ee7e4fad7cafd88969b72a9c1c6_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;以上只是部分照片，这套面积接近900平米，有乒乓桌、儿童乐园、储存室、麻将室、办公室、会议室、各种大大小小的卧室，功能齐全，应有尽有。大家感受一下~&lt;/p&gt;
&lt;p&gt;前面两篇分别介绍了上海和深圳的房价，两篇的地址在这里：&lt;/p&gt;
&lt;p&gt;&lt;a href="https://zhuanlan.zhihu.com/p/40293278"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://zhuanlan.zhihu.com/p/41694635"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;比较北上深的房价，可以发现&lt;strong&gt;北京不论在平均单价还是套均总价上都比上海深圳高出了不少&lt;/strong&gt;。豪宅方面，每个城市都有每个城市的特点，&lt;strong&gt;上海的特点在于贵，深圳的特点在于精致，北京的特点在于大&lt;/strong&gt;。&lt;/p&gt;</content><category term="数据分析"></category><category term="Python"></category><category term="爬虫"></category><category term="数据分析"></category></entry><entry><title>Python爬虫告诉你深圳房价有多高</title><link href="http://www.shenzhongqiang.com/python-shenzhen-house-price.html" rel="alternate"></link><published>2018-08-10T00:00:00+08:00</published><updated>2018-08-10T00:00:00+08:00</updated><author><name>Zhongqiang Shen</name></author><id>tag:www.shenzhongqiang.com,2018-08-10:/python-shenzhen-house-price.html</id><summary type="html">&lt;p&gt;这一篇是前一篇&lt;a href="https://zhuanlan.zhihu.com/p/40293278"&gt;Python爬虫告诉你上海房价有多高&lt;/a&gt;的姐妹篇，这一篇我们来看一看中国最具活力的城市&lt;strong&gt;深圳 …&lt;/strong&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;这一篇是前一篇&lt;a href="https://zhuanlan.zhihu.com/p/40293278"&gt;Python爬虫告诉你上海房价有多高&lt;/a&gt;的姐妹篇，这一篇我们来看一看中国最具活力的城市&lt;strong&gt;深圳&lt;/strong&gt;的房价。爬虫原理类似，我们直接分享数据。&lt;/p&gt;
&lt;p&gt;贝壳上，深圳的在售房源共有&lt;strong&gt;26822&lt;/strong&gt;套，在售房源的平均售价是&lt;strong&gt;530万&lt;/strong&gt;/套，平均单价是&lt;strong&gt;57436元&lt;/strong&gt;/平米，平均房龄&lt;strong&gt;12.7&lt;/strong&gt;年。&lt;/p&gt;
&lt;p&gt;深圳各区县的房源数量分布如下&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-3574bcd44d86d6408649846aa4a3c559_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;每个区的均价如下&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-aa4656316001151975bcf4f504f450d3_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;所有的区里，南山和福田的单价最高。福田、南山、罗湖、盐田四个区俗称关内，我们所说的深圳经济特区就是指关内，其余的六个区是关外，不属于深圳经济特区。可以看到，关内的整体房价明显高于关外。&lt;/p&gt;
&lt;p&gt;下面是深圳最贵的十大板块&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-97998be02fb0bfb289dcf3ff1a1be0c8_b.jpg"&gt;&lt;/p&gt;
&lt;p&gt;下面是深圳最贵的10大小区&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-83bf764f96b5d584cfa0aafb03a2c2fe_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;可以看到，最贵的板块和最贵的小区大多集中在关内的南山和福田两个区，这两个区也是深圳单价最高的两个区。&lt;/p&gt;
&lt;p&gt;下面是深圳10大面积最大的在售房源&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-4347b51216b7a144743dbc915a897923_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;这些豪宅的面积都在400平米以上，房型都在6室以上。&lt;/p&gt;
&lt;p&gt;下面是总价前10的顶级豪宅&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-a984e5e39b05645d2dd89045969425ee_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;豪宅也大多簇拥在南山和福田两区，最贵的豪宅达到1个亿。&lt;/p&gt;
&lt;p&gt;我们来看一下排名第二的豪宅所在的中信红树湾的小区环境&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-a0373bedfa707b4ad0d5a98d6d0eae6c_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-e105bf3a57a286ac97ae565d7bd4908f_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-432a0fefed722a0d41ab0e0b95de7aaa_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-1dd05d139abfdb16ab59e9dd35d7bfa7_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;绿化覆盖率很高，小区环境看着很舒适，房子也很气派，很有豪宅的气质。&lt;/p&gt;
&lt;p&gt;比较一下深圳和上海两地的房价（上一篇&lt;a href="https://zhuanlan.zhihu.com/p/40293278"&gt;Python爬虫告诉你上海房价有多高&lt;/a&gt;），可以发现，深圳和上海的平均单价和套均总价均相差不大。豪宅方面，上海的顶级豪宅要比深圳的顶级豪宅贵不少，上海排名前10的豪宅最便宜的也在1亿以上，而这里的数据里深圳最贵的豪宅也就1个亿，这有点令人难以置信。比较贝壳上这两个城市的房源数量，可以发现深圳的房源远少于上海的房源，可能深圳一些更贵的豪宅没有在贝壳上挂牌吧。&lt;/p&gt;
&lt;p&gt;本文我们分析了一下深圳的房价数据，下一篇我们来看一下北京的房价。敬请期待~&lt;/p&gt;</content><category term="数据分析"></category><category term="Python"></category><category term="爬虫"></category><category term="数据分析"></category></entry><entry><title>Python爬虫告诉你上海房价有多高</title><link href="http://www.shenzhongqiang.com/python-shanghai-house-price.html" rel="alternate"></link><published>2018-07-22T00:00:00+08:00</published><updated>2018-07-22T00:00:00+08:00</updated><author><name>Zhongqiang Shen</name></author><id>tag:www.shenzhongqiang.com,2018-07-22:/python-shanghai-house-price.html</id><summary type="html">&lt;p&gt;最近用Python爬取了贝壳上7万多套上海的在售房源，7万多套房源是目前贝壳上正在挂牌出售的房源，覆盖了上海各个区县。我们对这7万多套房源做一下分析，来真实地感受一下上海的房价到底有多高 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;最近用Python爬取了贝壳上7万多套上海的在售房源，7万多套房源是目前贝壳上正在挂牌出售的房源，覆盖了上海各个区县。我们对这7万多套房源做一下分析，来真实地感受一下上海的房价到底有多高。&lt;/p&gt;
&lt;h4&gt;爬虫思路&lt;/h4&gt;
&lt;p&gt;首先介绍一下我们这个爬虫的思路。贝壳网上的房源按照区县、版块做了划分，如下&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-1307e0c656cf57acc59555209580fe64_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;我们首先获取所有的区和版块数据。&lt;/p&gt;
&lt;p&gt;然后对于每一个版块，爬取版块内的所有房源数据。每一套房源的数据除了单价总价外还包括小区名字、户型、面积、朝向、装修、电梯、楼层等，如下图&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-1eeeb797f38246be02bece5720bab050_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;爬取的数据存入MongoDB。爬取完所有的数据后，我们从MongoDB读取数据并做分析。&lt;/p&gt;
&lt;p&gt;代码这里不详细展开，文末会给出获取方式。&lt;/p&gt;
&lt;h4&gt;房源数据分析&lt;/h4&gt;
&lt;p&gt;爬取完所有房源数据后，我们来对数据做一下分析。&lt;/p&gt;
&lt;p&gt;本次共爬取挂牌在售的房源总数&lt;strong&gt;72994&lt;/strong&gt;套，在售房源的平均售价是&lt;strong&gt;531万&lt;/strong&gt;/套，平均单价是&lt;strong&gt;56000元&lt;/strong&gt;/平米。&lt;/p&gt;
&lt;p&gt;按照区县划分，每个区的在售房源的分布如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-157601f58b30eeedbd0c5a2d55a10e29_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;可以看到浦东新区作为上海第一大区，挂牌在售的房源数量也是最多的。&lt;/p&gt;
&lt;p&gt;上海各个区县的均价如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-fbbe1bc619e01b679c0a5ed81fc795c2_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;静安、黄浦两个区位于上海的市中心，房价也最高，都超过了9万/平米，长宁、徐汇紧随其后，单价也超过了7万/平米。这4个区也是上海高端商业区、高端写字楼密集的地方，商场上档次，生活有品位，在这里拥有一套住房也成为了身份的象征。房价最低的是金山区，地处上海偏远的郊县，虽然也属于上海，但每次去金山都有一种出差的感觉。&lt;/p&gt;
&lt;p&gt;下面是上海单价最贵的十大小区&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-106b42d23d7e36fa5fe3664fa8b1d4c3_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;可以看到大多数都集中在静安、黄浦、徐汇、长宁这4个区。浦东有一个小区入围，那是曾经全上海最贵的汤臣一品，如今在最贵的名单里也只能排在第7了。&lt;/p&gt;
&lt;p&gt;最后我们来欣赏一下上海的那些最贵的顶级豪宅的房价&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-2dfb09cbeb1add8077442ab2015217e5_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;总价里的零是不是数不过来了？每一套都在1亿以上。豪宅的名字也很有趣，都是什么庄园、什么山庄之类的。&lt;/p&gt;
&lt;p&gt;我们来欣赏一下豪宅庄园的图片&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-b2a23a1686ca01fff9166336e0275cfe_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-778833988ee565a5c805cb4adff8ca5d_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-05e0fdde5f4d02dc9e1658405032ad5f_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-d30113ca527aa908e5166d9a07ff10ee_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;看了是不是很喜欢？是不是很动心？&lt;/p&gt;
&lt;p&gt;那么月薪1万，如何才能买得起这样的豪宅呢？&lt;/p&gt;
&lt;p&gt;不要急，一步步来。先设定一个小目标，比如：先活他个500年。&lt;/p&gt;
&lt;p&gt;爬虫代码已上传github，如需代码，可在公众号【&lt;strong&gt;Python与数据分析&lt;/strong&gt;】后台回复“房价”获取代码地址。&lt;/p&gt;</content><category term="数据分析"></category><category term="Python"></category><category term="爬虫"></category><category term="数据分析"></category></entry><entry><title>知乎Live数据面面观</title><link href="http://www.shenzhongqiang.com/zhihu-live-data-analysis.html" rel="alternate"></link><published>2018-06-23T00:00:00+08:00</published><updated>2018-06-23T00:00:00+08:00</updated><author><name>Zhongqiang Shen</name></author><id>tag:www.shenzhongqiang.com,2018-06-23:/zhihu-live-data-analysis.html</id><summary type="html">&lt;p&gt;从2016年5月第一场知乎Live开播，到今天，知乎Live已走过将近两个年头。有别于传统的文字、音频 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;从2016年5月第一场知乎Live开播，到今天，知乎Live已走过将近两个年头。有别于传统的文字、音频、视频的知识分享途径，知乎Live以直播的方式分享知识，给用户一种全新的体验。&lt;/p&gt;
&lt;p&gt;最近爬取了所有成功举办的知乎Live。从2016年知乎Live开播以来，知乎共计举办了5707场Live。通过数据分析，本文将会告诉你知乎Live的发展情况如何，覆盖哪些专业领域，有哪些奇特的Live，哪些Live最受欢迎，哪些Live最受好评，哪些Live最吸金等有趣的答案。&lt;/p&gt;
&lt;h4&gt;每月新开Live数量&lt;/h4&gt;
&lt;p&gt;下图为从2016年5月至今的每月新开播的Live数量统计（横轴是月份，看不清可以放大图片）&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-d91d22f820cbcd13df7f301bf43f9cb8_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;2016年5月知乎Live上线后，每月新开播的知乎Live数量就一路上升，至2017年5月达到顶峰，随后逐渐下降。这里值得一提的是，在2017年1月和2月Live数量出现明显的下降，这应该和那段时间过春节有关，2017年的春节在一月底二月初。春节到了，主讲人也要回家过年的，开播的Live数量自然就少了。&lt;/p&gt;
&lt;h4&gt;各领域Live分布&lt;/h4&gt;
&lt;p&gt;知乎Live按照专业领域分类。下图是每个领域的知乎Live数量分布情况&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-942cf49cb275b4509772c13b1703a58b_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;可以看到大多数的Live的都集中于教育、职业、互联网、金融与经济、生活方式这几个领域，这几个领域也都是知乎上关注度比较高的领域，相关话题的关注度都超过了8百万。&lt;/p&gt;
&lt;h4&gt;Live类型分布&lt;/h4&gt;
&lt;p&gt;知乎Live有视频和音频两种类型，下图为其分布情况&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-bf1761913d6a28654ba35fda3a9facc3_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;可以看到除了极少部分的视频形式的Live，大多数Live是音频形式的。这或许是由于音频Live对于主讲人来说有更大的自由度，不像视频主讲人需要考虑讲授的环境，视频中拍到的背景之类的因素。&lt;/p&gt;
&lt;h4&gt;最贵Live&lt;/h4&gt;
&lt;p&gt;知乎Live价格的中位数是19元，90%分位数是39.9元，超过39.9元的Live就进入前10%最贵Live的列表了。&lt;/p&gt;
&lt;p&gt;按价格区间划分，统计每个区间的Live数量，如下图&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-ec6b9b4f5b76476918657c4808ab4172_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;可以看出，大部分Live的价格集中在0-10元和10-100元两个区间，只有少数Live在100元以上，100元以上的Live共有34场。&lt;/p&gt;
&lt;p&gt;我们来看下最贵的5场知乎Live&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/893842955469721600"&gt;如何避免股市中的各种坑？&lt;/a&gt;  499.99元&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/865921682613891072"&gt;在中国做期货高频交易的日子&lt;/a&gt;  499.99元&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/890544211793956865"&gt;作者摄影Lv1.5：摄影中的光照与材质分析&lt;/a&gt;  549.00元&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/890546314826379264"&gt;作者摄影Lv1.7：建设你的专业暗房工作室&lt;/a&gt;  598.00元&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/890542532243652608"&gt;作者摄影Lv1.6：学不会的区域曝光法，这次解决&lt;/a&gt;  698.00元&lt;/p&gt;
&lt;p&gt;之前APP端给我推荐过 &lt;a href="https://www.zhihu.com/lives/865921682613891072"&gt;在中国做期货高频交易的日子&lt;/a&gt; ，当时着实被500大洋的价格吓到了，但没想到统计发现还有比这更贵的。&lt;/p&gt;
&lt;h4&gt;时间最长Live&lt;/h4&gt;
&lt;p&gt;对于音频类型的Live，时间长度就是Live的语音时间；对于视频类型的Live，时间长度就是视频的长度。知乎Live时间长度的中位数是62分钟，90%分位数是112分钟，超过112分钟的Live就进入前10%最长Live的列表了。&lt;/p&gt;
&lt;p&gt;按照时间长度划分区间，不同区间的Live数量如下图&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-eff8d48ce62c2fc5f92b3c3e404ac9cc_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;可以看到，大部分的Live时长都集中在10-100分钟的区间。&lt;/p&gt;
&lt;p&gt;来看下最长的5场知乎Live&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/805891453787176960"&gt;装修及家具造成甲醛等污染的防控&lt;/a&gt;  302分钟&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/935181446809792512"&gt;【考研那些坑】 二本如何高分考入北航&lt;/a&gt;  333分钟&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/815217146249494528"&gt;普通学生，从审计到投行&lt;/a&gt;  357分钟&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/919153088173056000"&gt;英菲尼迪走「芯」全拆解&lt;/a&gt;  378分钟&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/789872613613633536"&gt;LED 照明设计如何避坑&lt;/a&gt;  692分钟&lt;/p&gt;
&lt;p&gt;非常有趣，场场都超过了5个小时。注意看最后一场，是的，你没有看错，最长的一场居然超过了11个小时。能够坚持听完11个小时的同学，应该也是主讲人的真爱了吧。&lt;/p&gt;
&lt;h4&gt;最受欢迎Live&lt;/h4&gt;
&lt;p&gt;知乎Live的参与人数中位数是247人，90%分位数是1673人，参与人数大于1673的Live就跻身前10%受欢迎的Live了。&lt;/p&gt;
&lt;p&gt;按照参与人数划分区间，统计每个区间的Live数量，如下图&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-a24b524ffee7f26733a1a4aef8f5134e_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;可以看到，大部分Live的参与人数在0-10万人之间，有少数Live的参与人数超过了10万人。&lt;/p&gt;
&lt;p&gt;我们来看下参与人数最多的5场Live&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/757587093366009856"&gt;我的读书经验&lt;/a&gt;  48423 人参与&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/889162560450990080"&gt;知乎 2018 校园招聘空中宣讲会&lt;/a&gt;  50676 人参与&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/778982517263843328"&gt;如何在短时间内掌握一项技能&lt;/a&gt;  55566 人参与&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/772120076848467968"&gt;人人都能用英语&lt;/a&gt;  56481 人参与&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/763851343583547392"&gt;一小时建立终生受用的阅读操作系统&lt;/a&gt;  121678 人参与&lt;/p&gt;
&lt;p&gt;注意看最后一场Live，有超过12万人参与。我国最大的体育场能容纳9万多人，可以说这场Live的热门程度超过了绝大多数体育赛事、演唱会的现场参与人数。&lt;/p&gt;
&lt;h4&gt;最受好评Live&lt;/h4&gt;
&lt;p&gt;用户听完Live可以对Live进行评分。知乎Live评分的平均值是3.56分，90%分位数是4.88分，评分大于4.88的Live就跻身前10%的优质Live了。&lt;/p&gt;
&lt;p&gt;Live的评分最低0分，最高5分。按照评分划分区间，不同区间的Live数量如下图&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-d888f73ab923a97189e95c3735e35909_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;非常有意思，大多数知乎Live的评分都在3-4分和4-5分这两个区间，可以看出来，知乎用户在评分上还是很nice的。&lt;/p&gt;
&lt;p&gt;我们来看一下参与人数在100人以上的最受好评的5场Live&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/893139172620140544"&gt;留学文书：讲一个故事打动名校&lt;/a&gt;  5.0         &lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/866307074416599040"&gt;加密数字货币 ICO 入门及前景&lt;/a&gt;  5.0         &lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/918546107322212352"&gt;从零学会数据分析：数据分析的基本过程&lt;/a&gt;  5.0         &lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/818491503964987392"&gt;春季日本樱花之旅的正确打开方式&lt;/a&gt;  5.0         &lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/880788993145475072"&gt;游戏设计：易用性&lt;/a&gt;  5.0   &lt;/p&gt;
&lt;p&gt;这5场Live都是满分Live，不知是不是名副其实。&lt;/p&gt;
&lt;h4&gt;最吸金Live&lt;/h4&gt;
&lt;p&gt;这里用 &lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.zhihu.com/equation?tex=%E6%94%B6%E5%85%A5+%3D+Live%E4%BB%B7%E6%A0%BC+%5Ctimes+%E5%8F%82%E4%B8%8E%E4%BA%BA%E6%95%B0"&gt; &lt;/p&gt;
&lt;p&gt;来估算Live的收入情况。由于知乎Live会搞促销活动，实际收入可能会低于此数值。知乎Live收入的中位数是4168元，90%分位数是33953元，收入大于33953元的Live就跻身前10%最吸金行列了。&lt;/p&gt;
&lt;p&gt;按照Live收入划分区间，不同区间的Live数量如下图&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-a0b4b7b46a176466f3d77ea930b04530_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;可以看到，大多数Live的收入在10万以下。&lt;/p&gt;
&lt;p&gt;我们来看下最吸金的5场Live&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/772120076848467968"&gt;人人都能用英语&lt;/a&gt;  1129055.19元&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/752228199001247744"&gt;正装入门：先穿对，再穿贵&lt;/a&gt;  1704708.99元&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/795679158356312064"&gt;从月球回来这 48 年&lt;/a&gt;  2386296.00元&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/823888660779892736"&gt;诺贝尔经济学奖得主：特朗普上台，中国该往何处去&lt;/a&gt;  3499353.00元&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.zhihu.com/lives/763851343583547392"&gt;一小时建立终生受用的阅读操作系统&lt;/a&gt;  12167800.00元&lt;/p&gt;
&lt;p&gt;非常震惊，上面的每场Live都超过了百万收入，最后一场 &lt;a href="http://www.zhihu.com/people/e8e1b3c9f41a0528399733b96005db69"&gt;@李笑来&lt;/a&gt; 老师的Live更是超过了千万收入。仔细阅读本文的同学可以发现，这场Live除了是最吸金的Live之外，还是最受欢迎（参与人数最多）的Live。&lt;/p&gt;
&lt;p&gt;以上是本次统计的所有图表和数据。本人还是非常喜欢Live这种知识分享的模式，收听的几场Live质量都很高，给了我很多启发。知乎Live还在不断发展中，也期待将来能够有越来越多高质量的Live出现。&lt;/p&gt;
&lt;p&gt;本文已更新微信同名公众号【Python与数据分析】，欢迎关注~&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-e9b0b9b9584ccdd3ff4c96b7ecfd8a56_r.jpg"&gt;&lt;/p&gt;</content><category term="数据分析"></category><category term="爬虫"></category><category term="数据分析"></category></entry><entry><title>数据告诉你新股上市能涨多久</title><link href="http://www.shenzhongqiang.com/how-much-can-ipo-stock-go-up.html" rel="alternate"></link><published>2018-03-22T00:00:00+08:00</published><updated>2018-03-22T00:00:00+08:00</updated><author><name>Zhongqiang Shen</name></author><id>tag:www.shenzhongqiang.com,2018-03-22:/how-much-can-ipo-stock-go-up.html</id><summary type="html">&lt;p&gt;涨停打开的那一天卖掉股票，获利了结。但又不少股票涨停打开后，经过一番盘整后，继而冲上更高的高峰 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;涨停打开的那一天卖掉股票，获利了结。但又不少股票涨停打开后，经过一番盘整后，继而冲上更高的高峰。提前抛掉股票的股民只能惋惜自己卖得太早，错过了行情。&lt;/p&gt;
&lt;p&gt;本文旨在通过对历史数据的分析，预测新股上市后短期内的上涨幅度，给出更精准的抛售时机。&lt;/p&gt;
&lt;p&gt;&lt;a href="http://link.zhihu.com/?target=http%3A//data.eastmoney.com/xg/xg/default.html"&gt;新股申购与中签查询 _ 数据中心 _ 东方财富网&lt;/a&gt; 里可以看到所有的新股数据，如下图所示&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-3df950e5fd4b98a45337e47a8d297a1d_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;这里我们关心的是&lt;strong&gt;发行价格&lt;/strong&gt;、&lt;strong&gt;中签率&lt;/strong&gt;、&lt;strong&gt;发行市盈率&lt;/strong&gt;和&lt;strong&gt;行业市盈率&lt;/strong&gt;。我们爬取2017年10月前上市的500只股票做分析，整理得到下面的数据：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;股票代码   发行市盈率  行业市盈率   发行价     中签率                                            
sz002915  22.959999   43.860001    6.430000  0.02286
sh603917  22.990000   64.949997   14.220000  0.02512
sz300729  22.990000   48.150002   16.059999  0.02273
sz002913  22.990000   54.029999   30.379999  0.02516
sh603848  22.980000   49.410000    7.890000  0.03506
sh603711  22.990000   43.740002   14.180000  0.03825
sh603809  22.990000   20.639999   22.389999  0.02747
sh603685  22.990000   32.020000   21.040001  0.02406
sz300727  22.980000   44.000000    8.340000  0.02392
sz300726  22.980000   53.020000   11.160000  0.03335
sh603661  22.980000   47.590000   56.880001  0.02360
...             ...         ...         ...      ...
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;对上面的500只股票，我们找到每一只股票在上市3个月内的最高价，并计算最高价对应的收益率，发现一些很有趣的现象：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这三点都比较容易解释。发行价越高，股票能涨到的最高价当然也越高了。股票的估值受行业市盈率影响，行业市盈率越高，股票发行市盈率越低，那股票上涨的空间也就越大。&lt;/p&gt;
&lt;p&gt;根据上面的分析，不难想到可以用下面的公式来预测新股上市后能涨到的最高价：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.zhihu.com/equation?tex=%E6%9C%80%E9%AB%98%E4%BB%B7+%3D+%E5%8F%91%E8%A1%8C%E4%BB%B7+%5Ctimes+%28%E8%A1%8C%E4%B8%9A%E5%B8%82%E7%9B%88%E7%8E%87+%5Cdiv+%E5%8F%91%E8%A1%8C%E5%B8%82%E7%9B%88%E7%8E%87%29"&gt; &lt;/p&gt;
&lt;p&gt;对于之前的500只股票，按上述公式计算预测价格，可以&lt;strong&gt;发现95.8%的股票都能涨到预测的价格以上&lt;/strong&gt;。我们如果去除10元以下的低价股，也&lt;strong&gt;有94.1%的股票能涨到预测的价格以上&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;我们来实际检验一下&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;亿联网络（300628），发行价88.67，史上第一高，预测能涨到315，实际涨到378。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-0a5c6fd17866a8c88d49bac657c0169d_r.jpg"&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;电连技术（300679），发行价67.72，预测能涨到140，实际涨到130.96。没有涨到预测价格，但已接近。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-fe7c598b5ccfaf662bae7506374e2778_r.jpg"&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;深圳新星（603978），发行价29.93，预测能涨到106.72，实际涨到118。可以看到，这只股票在涨停打开的时候只有60不到，如果涨停打开当天抛售就错失了后面的一大波行情。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-5cf620c4ab7c2308ca835bdc2240ead1_r.jpg"&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;欧派家居（603833），发行价50.08，预测能涨到102.38，实际涨到125.18，比较接近。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-3f134fbfd79f5a85ed2dda3b1c2bfd17_r.jpg"&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;弘亚数控（002833），发行价10.11，预测能涨到52.56，实际涨到62.7。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-c9d94e93a64cfc4caa5548b9c2b2b3bc_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;接下来我们来预测下最近将要上市的几只新股&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;养元饮品（603156），发行价78.73，发行市盈率17.74，行业市盈率50.09，预计可以涨到222.3&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;今创集团（603680），发行价32.69，发行市盈率22.99，行业市盈率47.50，预计可以涨到67.54&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;润建通信（002929），发行价23.95，发行市盈率22.99，行业市盈率44.99，预计可以涨到46.87&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这几只新股还未上市，等上市后可以验证一下，看是否能涨到预测的价格。&lt;/p&gt;
&lt;p&gt;总结一下，本文主要给出了一种方法用于预测新股上涨到的最高价。不同于传统的涨停打开就卖出的策略，本文对于价格的预测能给出更精确的卖出建议。&lt;/p&gt;</content><category term="数据分析"></category><category term="Python"></category><category term="数据分析"></category></entry><entry><title>Python告诉你iPhone X有多热卖</title><link href="http://www.shenzhongqiang.com/iphonex-sales.html" rel="alternate"></link><published>2017-12-14T00:00:00+08:00</published><updated>2017-12-14T00:00:00+08:00</updated><author><name>Zhongqiang Shen</name></author><id>tag:www.shenzhongqiang.com,2017-12-14:/iphonex-sales.html</id><summary type="html">&lt;p&gt;老婆最近生气了，说强哥不肯给她买iPhone X。强哥觉得挺委屈的，强哥是小气的人么 …&lt;/p&gt;</summary><content type="html">&lt;p&gt;老婆最近生气了，说强哥不肯给她买iPhone X。强哥觉得挺委屈的，强哥是小气的人么。老婆要买iPhone X，强哥当然支持了。强哥立刻转了一笔巨款给老婆&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-4b784f72b1964ddcaa68408337f6ebbd_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;发完转账，老婆就把强哥给拉黑了。强哥当时的心情是这样的&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-497886754145e37caf08601d2123bece_b.jpg"&gt;&lt;/p&gt;
&lt;p&gt;强哥挺郁闷的，强哥到底做错了什么，老婆要这样对我。&lt;/p&gt;
&lt;p&gt;带着沉重的心情，强哥决定深入了解一下老婆为什么这么喜欢iPhone X，于是强哥&lt;strong&gt;用Python爬取淘宝店铺的数据分析了一下iPhone X到底有多热卖&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;我们先来看下淘宝上的销量数据长什么样。&lt;/p&gt;
&lt;p&gt;淘宝上的销量数据有两种方式估算，一种方式是用&lt;strong&gt;累计付款人数&lt;/strong&gt;近似销量，像下面这种&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-d583f86f36fb991a3059c9da9f05b1ba_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;显示在这个数字里的每个人都至少购买了一部手机，所以总销量一定大于等于累计付款人数。&lt;/p&gt;
&lt;p&gt;淘宝上并不是每一家店铺都显示累计付款人数，对于下面这种只显示&lt;strong&gt;评论数&lt;/strong&gt;的情况&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-63785e0be453175fb564f9e869a68d61_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;就只能用评论数来估算销量了。具体怎么估算后面会提到。&lt;/p&gt;
&lt;p&gt;知道怎么获得销量数据，接下类我们就开始爬数据了。&lt;/p&gt;
&lt;p&gt;我们要爬的数据藏在下面高亮的URL里&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-a0ce2622a4799f346c4802abdc92bd77_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;我们用Python的Scrapy框架来实现一个爬虫，爬取不同搜索页的URL&lt;/p&gt;
&lt;p&gt;爬虫代码如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;time&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;json&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;re&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;scrapy&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pymongo&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;load_param&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/tmp/param&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
            &lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;loads&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setdefault&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;start&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt;
    &lt;span class="k"&gt;except&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;save_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/tmp/param&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;wb&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dumps&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
            &lt;span class="s2"&gt;&amp;quot;start&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="p"&gt;})&lt;/span&gt;
        &lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;QuotesSpider&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;scrapy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Spider&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;iphonex&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;url_patt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;https://s.taobao.com/search?data-key=s&amp;amp;data-value=&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s1"&gt;&amp;amp;ajax=true&amp;amp;_ksTS=1513178695257_1962&amp;amp;callback=jsonp1963&amp;amp;q=iphone+x&amp;amp;imgfile=&amp;amp;commend=all&amp;amp;ssid=s5-e&amp;amp;search_type=item&amp;amp;sourceId=tb.index&amp;amp;spm=a21bo.2017.201856-taobao-item.1&amp;amp;ie=utf8&amp;amp;initiative_id=tbindexz_20170306&amp;amp;app=detailproduct&amp;amp;through=1&amp;amp;bcoffset=4&amp;amp;p4ppushleft=6&lt;/span&gt;&lt;span class="si"&gt;%%&lt;/span&gt;&lt;span class="s1"&gt;2C48&amp;#39;&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;start_requests&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;load_param&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;url_patt&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;start&lt;/span&gt;
        &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="n"&gt;scrapy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;callback&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parse&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;parse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;response&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;body&lt;/span&gt;
        &lt;span class="n"&gt;patt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;jsonp\d+\((.*)\);&amp;#39;&lt;/span&gt;
        &lt;span class="n"&gt;matched&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;patt&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MULTILINE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;loads&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;matched&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="n"&gt;items&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;mods&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;itemlist&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;data&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;auctions&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;client&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pymongo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MongoClient&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;db&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;iphonex&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;new_items&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;insert_many&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;44&lt;/span&gt;
        &lt;span class="n"&gt;save_param&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;url_patt&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sleep&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="n"&gt;scrapy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;callback&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parse&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;我们爬得温柔点，这里设了爬完一次休息2秒再爬。&lt;/p&gt;
&lt;p&gt;爬完的数据存入了mongodb，接下来我们将数据从mongodb中读出来，去除不相关的产品和重复的产品，估算一下缺失累计付款人数商品的销量数据，然后统计总的销量和销售额。&lt;/p&gt;
&lt;p&gt;这里重点讲述一下怎么用评论数来估算商品销量。&lt;/p&gt;
&lt;p&gt;淘宝上的商品的评论只有在购买成功后才能添加，一次购买行为最多对应一条评论（首评，追评都会归结到一条）。按常理分析，商品累计付款人数和评论数应该呈正相关的关系。&lt;/p&gt;
&lt;p&gt;我们提取mongodb里累计付款人数大于0并且评论数大于200的商品。销量太少的商品的评论数量可能会存在一定随机性，因此我们限定用于分析的商品的评论数必须大于200。&lt;/p&gt;
&lt;p&gt;用散点图画出累计付款人数和评论数的关系，如下&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-64181e8a446b612a10b30d7d7d6d3a67_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;上图横轴是评论数，纵轴是累计付款人数，&lt;strong&gt;累计付款人数和评论数还是呈现很明显的正相关关系的&lt;/strong&gt;。我们用线性来拟合这个关系，对于那些只有评论数的商品，&lt;strong&gt;我们用拟合出来的公式来推算该商品的累计付款人数，由此来估算销量。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;数据分析部分的代码如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_iphonex&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;client&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pymongo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MongoClient&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;db&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;iphonex&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;items&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;db&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;items&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;prices&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="n"&gt;sales&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="n"&gt;com_counts&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="n"&gt;urls&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="n"&gt;titles&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
    &lt;span class="n"&gt;nids&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;

    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
        &lt;span class="n"&gt;title&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;raw_title&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;iphonex&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; \
            &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;iphone x&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; \
            &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;iphone 8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; \
            &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;iphone8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="n"&gt;titles&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;continue&lt;/span&gt;

        &lt;span class="n"&gt;nids&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;nid&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
        &lt;span class="n"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;detail_url&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;urls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;view_price&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setdefault&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;view_price&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;0&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;prices&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;view_price&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="n"&gt;comment_count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; 
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;comment_count&amp;quot;&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;comment_count&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
            &lt;span class="n"&gt;comment_count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;comment_count&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
        &lt;span class="n"&gt;com_counts&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;comment_count&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;view_sales&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setdefault&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;view_sales&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;0&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;matched&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;match&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;(\d+)&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;view_sales&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;matched&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;view_sales_num&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;matched&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;view_sales_num&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_option&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;display.max_colwidth&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; 
    &lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;price&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;prices&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;sales&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;urls&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;urls&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;titles&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;titles&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;nids&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;nids&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;comment_count&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;com_counts&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
    &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;drop_duplicates&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;subset&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;nids&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;keep&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;last&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;inplace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;df_test&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;price&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="mi"&gt;6000&lt;/span&gt;&lt;span class="p"&gt;][(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;comment_count&lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;

    &lt;span class="n"&gt;df_train&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df_test&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;df_test&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;comment_count&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;200&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;df_test&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sales&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;reg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sklearn&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linear_model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;LinearRegression&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fit_intercept&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;reg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df_train&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;comment_count&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt; &lt;span class="n"&gt;df_train&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sales&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

    &lt;span class="n"&gt;df_tofill&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df_test&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;df_test&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;df_tofill&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;sales&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;reg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df_tofill&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;comment_count&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;
    &lt;span class="n"&gt;df_test&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;df_test&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sales&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df_tofill&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;iPhone X sold number:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;df_test&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;iPhone X sold money:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df_test&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sales&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;df_test&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;price&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;get_iphonex&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上面这段代码有如下的输出：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;iPhone X sold number: &lt;span class="m"&gt;194037&lt;/span&gt;.766983
iPhone X sold money: &lt;span class="m"&gt;1605100188&lt;/span&gt;.36
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;可以看到，至今为止，&lt;strong&gt;iPhone X在淘宝上共卖出了19万部，销售额达到了16亿多。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这个销售量到底什么水平呢？我们可以统计一下差不多同期上市的几款手机的销量，做个比较。&lt;/p&gt;
&lt;p&gt;用同样的方法，我们从淘宝上爬取了iPhone 8，华为Mate 10，小米Mix 2的销量数据，将它们和iPhone X放在一起做比较，有如下的数据&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-d6ed7aa37ad1427363cc99edbcacc0cd_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-c525d7955bc4d3c097485d71c319bb88_r.jpg"&gt;&lt;/p&gt;
&lt;p&gt;可以看到&lt;strong&gt;iPhone X无论在销量还是销售额上都遥遥领先，远远超过其他手机&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;当然淘宝只是iPhone X的一个销售平台，同样在销售iPhone X的还有京东，苏宁，苹果线上和线下的实体商店等。由于很多大平台并不公开销量数据，要统计iPhone X总的销售量还有很大的难度。但根据之前新闻报道iPhone X开卖2小时招行销售额破20亿、双十一京东购机预约数量破200万、苹果商店门前排起长队、黄牛将一部手机价格炒到2万等这些来判断，这次的iPhone X一定是大受好评的。&lt;/p&gt;
&lt;p&gt;至此，强哥算是明白老婆为什么这么喜欢iPhone X了。强哥知道错了，强哥这就给老婆买iPhone X去。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.shenzhongqiang.com/images/v2-e0028b21e1882896d138de10d641b5fe_b.jpg"&gt;&lt;/p&gt;</content><category term="数据分析"></category><category term="Python"></category><category term="数据分析"></category><category term="爬虫"></category></entry></feed>